<!DOCTYPE html>
<!-- saved from url=(0056)file:///D:/Google%20Drive/Other/Lura/Web/skill_tree.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Interactive Force Directed Layout</title>
  <meta name="description" content="A continuously operating ForceDirectedLayout lets the user push and pull nodes around.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./skill_tree_files/skill_tree_styles.css">
  <script src="./skill_tree_files/go.js.download"></script>
  <!-- <script src="../assets/js/goSamples.js"></script> -->  <!-- this is only for the GoJS Samples framework -->
  <script id="code">
    var global_diagram = null;

    // This variation on ForceDirectedLayout does not move any selected Nodes
    // but does move all other nodes (vertexes).
    function ContinuousForceDirectedLayout() {
      go.ForceDirectedLayout.call(this);
      this._isObserving = false;
    }
    go.Diagram.inherit(ContinuousForceDirectedLayout, go.ForceDirectedLayout);

    ContinuousForceDirectedLayout.prototype.isFixed = function(v) {
      return v.node.isSelected;
    }

    // optimization: reuse the ForceDirectedNetwork rather than re-create it each time
    ContinuousForceDirectedLayout.prototype.doLayout = function(coll) {
      if (!this._isObserving) {
        this._isObserving = true;
        // cacheing the network means we need to recreate it if nodes or links have been added or removed or relinked,
        // so we need to track structural model changes to discard the saved network.
        var lay = this;
        this.diagram.addModelChangedListener(function(e) {
          // modelChanges include a few cases that we don't actually care about, such as
          // "nodeCategory" or "linkToPortId", but we'll go ahead and recreate the network anyway.
          // Also clear the network when replacing the model.
          if (e.modelChange !== "" ||
            (e.change === go.ChangedEvent.Transaction && e.propertyName === "StartingFirstTransaction")) {
            lay.network = null;
        }
      });
      }
      var net = this.network;
      if (net === null) {  // the first time, just create the network as normal
        this.network = net = this.makeNetwork(coll);
      } else {  // but on reuse we need to update the LayoutVertex.bounds for selected nodes
        this.diagram.nodes.each(function(n) {
          var v = net.findVertex(n);
          if (v !== null) v.bounds = n.actualBounds;
        });
      }
      // now perform the normal layout
      go.ForceDirectedLayout.prototype.doLayout.call(this, coll);
      // doLayout normally discards the LayoutNetwork by setting Layout.network to null;
      // here we remember it for next time
      this.network = net;
      global_network = this.network
    }
    // end ContinuousForceDirectedLayout


    function init() {
      // if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this
      var $ = go.GraphObject.make;  // for conciseness in defining templates

      myDiagram =
        $(go.Diagram, "myDiagramDiv",  // must name or refer to the DIV HTML element
        {
            initialAutoScale: go.Diagram.Uniform,  // an initial automatic zoom-to-fit
            contentAlignment: go.Spot.Center,  // align document to the center of the viewport
            "toolManager.hoverDelay" : 1,
            "toolManager.mouseWheelBehavior" : go.ToolManager.WheelZoom,
            layout:
              $(ContinuousForceDirectedLayout,  // automatically spread nodes apart while dragging
                { defaultSpringLength: 20, defaultElectricalCharge: 100, defaultGravitationalMass: 100 }),
            // do an extra layout at the end of a move
            "SelectionMoved": function(e) { e.diagram.layout.invalidateLayout(); }
          });


      // Upgrades dictionary
      
      upgrades = {
  "Brawling": [
    {
      "name": "Heavy swing",
      "desc": "+1+L damage. 1FP",
      "lvl": 22.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Charging tackle",
      "desc": "Attempt to take opponent down to ground at lower of -4+2L or tackle skill. Deal sw damage. 1FP",
      "lvl": 44,
      "required": "Tackle",
      "type": "U2"
    },
    {
      "name": "Furious fists",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot stack.",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Beserker",
      "desc": "Extra action at 1FP each, either whilst attacking or defending. Up to 4 extra actions per turn",
      "lvl": 6,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Pin": [
    {
      "name": "Scuffler",
      "desc": "Can roll any standard combat roll whilst pinning someone. ",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Disorientate",
      "desc": "4/L consecutive turns of pin will stun opponent for L rounds.",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Knockout",
      "desc": "1FP per round. Roll Pin-2. 3 successful rounds of knockout incapacitates the enemy.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Mortal Threat",
      "desc": "1FP. If armed, Intimidate +4 to threaten death if opponent does not relent.",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Tackle": [
    {
      "name": "Unawares",
      "desc": "If not in direct line of sight, roll Sneak to take to ground without resistance.",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Roll off",
      "desc": "Even if tackle fails, 1FP to roll to a Move & Attack distance in the same turn.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disarm",
      "desc": "Tackled opponents also drop their weapon.",
      "lvl": 6,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Stone Cold",
      "desc": "Tackled enemy must roll Will - 5 to avoid stun, and DEX to avoid 2 damage (ignore armour).",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Acquatics": [
    {
      "name": "Seafare",
      "desc": "Working knowledge of sailing, rowing",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Swim speed",
      "desc": "Increase swim speed by L times",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Endurance",
      "desc": "Holding breath, and prolonged swimming, each by L times",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Terror of the Sea",
      "desc": "Must be fully upgraded. Can stealth easily underwater, and no penalty to attacks.",
      "lvl": 0,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Energy": [
    {
      "name": "Adrenaline",
      "desc": "Roll to regain L FP when combat initiates. 5% chance of gaining bloodlust until combat finishes",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist",
      "desc": "Regain an extra 2*LFP if you go a whole day without fighting. Lose 1FP every time you enter combat",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Willpower": [
    {
      "name": "Meditation",
      "desc": "Regain 2FP for every 15 minute meditation. Can perform up to L times per day.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Metabolism",
      "desc": "Gain an extra LFP when consuming an FP-restoring meal",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Combat focus",
      "desc": "Spend 1FP to use a skill and perform a regular combat move in the same turn.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    }
  ],
  "Martial arts": [
    {
      "name": "Non-lethal takedown",
      "desc": "-8+2L to immediately incapicitate opponent. 2FP. Crit fails may kill opponent",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Stealth subdue",
      "desc": "If undetected, incapicitate opponent at -2+L",
      "lvl": 48,
      "required": "Sneak",
      "type": "U2"
    },
    {
      "name": "Brutalise",
      "desc": "Attempt to inflict maximum pain. 1FP. Opponent rolls Willpower to avoid stun. Nearby enemies roll Will+2",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Fighting Master",
      "desc": "If opponent armed, +2 to all defence rolls. +1 to all Brawling, Pin, Tackle, Martial Arts rolls (incl. upgrades).",
      "lvl": "Q",
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Melee combat": [
    {
      "name": "Melee specialist",
      "desc": "+1 to melee attacks. Cannot have ranged skills.",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Close-quarter expert",
      "desc": "Act as if lvl L on all melee weapons, even if you do not have the skill",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Fencing": [
    {
      "name": "Rapid strike",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot combine.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Parry and strike (fencing)",
      "desc": "Successful parries can be immediately followed up by an attack at -3+L for 1FP. Cannot stack other bonuses/upgrades.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Overextend",
      "desc": "+3 damage on success, but no defense roll next turn. 1FP",
      "lvl": "4",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Breakthrough",
      "desc": "Attempt a strike, opponent does not get defence roll. Costs 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Flail": [
    {
      "name": "Overhead swing",
      "desc": "+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Overextend",
      "desc": "+3 damage on success, but no defense roll next turn. 1FP",
      "lvl": "4",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disarm",
      "desc": "Attempt to disarm opponent's weapon at -4+L. Opponent cannot use parry. 2FP",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Round and round",
      "desc": "On successful hit, attempt another hit at -1 for 1FP. Further hits after that cost 2FP.",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Impact": [
    {
      "name": "Crushing blow",
      "desc": "+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Wide swing (impact)",
      "desc": "Can roll an additional L targets in range for 1FP each",
      "lvl": 234,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disorientate",
      "desc": "Attempt hit - if successful, opponent must roll Willpower-L to not be stunned. 1FP",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Bonebreaker",
      "desc": "Attempt a devestating blow at -2 that incapitates a limb if successful. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Pole": [
    {
      "name": "Floor sweep",
      "desc": "Attempt at -3+L to sweep opponent to ground. 1FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distant strike",
      "desc": "Maintain distance such that you are able to attack but opponent must move to attack you. 1FP",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Twirl",
      "desc": "Attack at -2, but gain +4 parry until your next turn. 1FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Whirlwind",
      "desc": "Sweep in a full circle, rolling against all enemies in range. Enemies roll DX to not fall to floor. 1FP.",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Sword": [
    {
      "name": "Forward thrust",
      "desc": "+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Parry and strike (sword)",
      "desc": "Successful parries can be immediately followed up by an attack at -3+L for 1FP. Cannot stack other bonuses/upgrades.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Wide swing (sword)",
      "desc": "Can roll an additional L targets in range for 1FP each",
      "lvl": 234,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Execute",
      "desc": "Launch a masterful attack. -3 opponent defend. Ignores armor. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Dagger": [
    {
      "name": "Rapid strike",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot combine.",
      "lvl": 234.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Deft cuts",
      "desc": "Quickly and silently slice through many materials. Can be used as a moving attack if undetected.",
      "lvl": 3,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Weak point",
      "desc": "Attempt an attack that ignores armor. 2FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Silent takedown",
      "desc": "If undetected, attempt an attack that is lethal to all but the toughest opponents. 2FP",
      "lvl": "Q",
      "required": "All upgrades, Sneak II",
      "type": "UMAX"
    }
  ],
  "Ranged combat": [
    {
      "name": "Ranged specialist",
      "desc": "+1 to ranged attacks. Cannot have melee skills other than Dagger",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distant threat",
      "desc": "Act as if lvl L on all ranged weapons, even if you do not have the skill",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Blowpipe": [],
  "Bow": [
    {
      "name": "Steady hand (bow)",
      "desc": "+1+L to immobile targets",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quickdraw (bow)",
      "desc": "Bypass unsheath / reload time for 1FP.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Multi-shot",
      "desc": "Fire L additional arrows in broadly same direction. -2 for first extra arrow, -3 for second. Cannot combine.",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Nimble bowmaster",
      "desc": "No penalty if moving and firing. +2 against all targets. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Crossbow": [
    {
      "name": "Steady hand (crossbow)",
      "desc": "+1+L to immobile targets",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quickdraw (crossbow)",
      "desc": "Bypass unsheath / reload time for 1FP.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Parry trigger",
      "desc": "After successful parry, fire an arrow at -2 for 1FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Stronghold",
      "desc": "+3 to defense if not moving. No range damage penalty. Can wield shield with crossbow (-2 attack)",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Thrown weapon": [],
  "Artillery": [],
  "Shield": [
    {
      "name": "Cover",
      "desc": "No attack this turn, but +7 to block until your next turn",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Charge",
      "desc": "As an attack, run at opponent (must be in move range). If opponent fails dodge, falls to floor. 1FP",
      "lvl": 2,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Vanguard",
      "desc": "Slowly advance, +4 to block. Cover up to two others (inherit your block). 1FP, +1FP every 2s. Cannot attack.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Defensive offence",
      "desc": "Attack at -2, but gain +4 block until next turn. 1FP",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Climbing": [
    {
      "name": "Speed (climb.)",
      "desc": "Climb L times faster",
      "lvl": 224.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Endurance",
      "desc": "Increase time between FP drain by 2L",
      "lvl": 224,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Hanging",
      "desc": "Hang from a position with 5L times less FP drain",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Shadows above",
      "desc": "If at a height advantage, remain hidden if unmoving",
      "lvl": 4,
      "required": "All upgrades, Sneak II",
      "type": "UMAX"
    }
  ],
  "Acrobatics": [
    {
      "name": "Combative acrobatics",
      "desc": "Advanced movement possible in combat. Reduce standard 'Move and Attack' penalty by 2L",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distracting flair",
      "desc": "Perform stunts that may distract individuals / crowds, at -4+2L",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Acrobat)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "As the River",
      "desc": "+1 to Dodge, Jump, Ride, Climb, Sneak, Escape",
      "lvl": 6,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Jumping": [
    {
      "name": "Height",
      "desc": "Jump L times higher",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Length",
      "desc": "Jump L times further",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Smash",
      "desc": "1FP. Jump whilst attacking to reduce opponent defence by 2L and increase damage by L.",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Featherfoot",
      "desc": "Easily clear almost all jumps. 1FP in combat to clear large distances, no move penalty, +3 dmg.",
      "lvl": 0,
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Throwing": [
    {
      "name": "Velocity",
      "desc": "Throw L times faster",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Weight",
      "desc": "Throw L times more weight effectively",
      "lvl": 222,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Accuracy",
      "desc": "Increase accurate range by L times",
      "lvl": 222,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Bullseye",
      "desc": "Must be fully upgraded. Throw most handheld objects as weapons.",
      "lvl": 0,
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Riding": [
    {
      "name": "Combat steed",
      "desc": "+3 dodge, +2 attack, +2 damage whilst mounted during combat. Move and Attack penalty reduced by 2.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Wild tamer",
      "desc": "1FP. Attempt to mount wild animal: success by X = X sec. Can broadly direct of animal, or deal guaranteed damage. ",
      "lvl": 4,
      "required": "Animal handling II, Acrobatics",
      "type": "U2"
    },
    {
      "name": "The Meaning of Haste",
      "desc": "Increase your ability to travel long distances mounted by L times",
      "lvl": 24,
      "required": "",
      "type": "U3"
    }
  ],
  "Speed": [
    {
      "name": "Initiative",
      "desc": "Increase your Basic Move, for the sake of order of combat, by 2L",
      "lvl": 333.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Sprinting",
      "desc": "Improve your sprinting: L1 = 1/2 standard FP penalty, L2 = no FP cost",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Traveller",
      "desc": "Increase your ability to travel long distances by 50% * L",
      "lvl": 24,
      "required": "",
      "type": "U3"
    }
  ],
  "Pickpocket": [
    {
      "name": "Deposit",
      "desc": "At -3+L, plant a item on an unwitting victim. May be penalised for large objects. 1FP",
      "lvl": 224.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Slippery",
      "desc": "Attempt to sneak away on fail, at -4+2L",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Into the crowd",
      "desc": "+2L when in crowded area, and +2L to get away if caught",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Sleight of hand",
      "desc": "In face-to-face, attempt to pickpocket via any impromptu contact without penalty",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Sneak": [
    {
      "name": "Misdirect",
      "desc": "Whilst undetected, distract victims to other locations at -4+L. 1FP",
      "lvl": 2448.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Slip away",
      "desc": "After being detected, roll to return to being hidden. Costs 2FP (even if fail)",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Escape": [
    {
      "name": "Premptive resist",
      "desc": "When first being restrained, even unconscious, roll at -2. Can escape from faulty restraints in 10s",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Flexible",
      "desc": "Reduce time per attempt. L1: 50%; L2: 5%",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Smithing": [
    {
      "name": "Metalcraft",
      "desc": "Construct intermediate devices and weaponry. Complex designs are a Mechanics upgrade.",
      "lvl": 5.0,
      "required": "Mechanics II",
      "type": "U1"
    },
    {
      "name": "Marketable (Smither)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    },
    {
      "name": "Mystic smithing",
      "desc": "Work with mystic substances.",
      "lvl": "Q",
      "required": "Basic Mystics II, Smithing IV",
      "type": "U3"
    }
  ],
  "Lumberjack": [],
  "Carpentry": [
    {
      "name": "Woodcraft",
      "desc": "Construct intermediate devices and weaponry. Complex designs are a Mechanics upgrade.",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Marketable (Carpenter)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    },
    {
      "name": "Mystic woodcraft",
      "desc": "Work with mystic materials.",
      "lvl": "Q",
      "required": "Basic Mystics II, Carpentry IV, Naturalist",
      "type": "U3"
    }
  ],
  "Interrogation": [
    {
      "name": "Violent methods (interrogation)",
      "desc": "+2L bonus if violence inflicted on victim. 10% chance of causing Bloodlust.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist methods (interrogation)",
      "desc": "Can interrogate even without immediate credible threat at -2+L. Cannot be used if violence has been inflicted.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Diplomacy": [
    {
      "name": "Combat negotiations",
      "desc": "-4+2L to attempt to stop a fight long enough to talk",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Fast-Talk": [
    {
      "name": "Backtrack",
      "desc": "On first failure, people will not distrust you",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "On a roll",
      "desc": "Successive lies to the same listener become +L easier each time",
      "lvl": 48,
      "required": "",
      "type": "U2"
    }
  ],
  "Intimidation": [
    {
      "name": "Violent methods (intimidation)",
      "desc": "+2L bonus if violence inflicted on victim. 10% chance of causing Bloodlust.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist methods (intimidation)",
      "desc": "Can intimidate even without immediate credible threat at -2+L. Cannot be used if violence has been inflicted.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Savoir-Faire": [
    {
      "name": "Elegance",
      "desc": "Ability to pass of as a much richer/more powerful person than you really are. Still requires roll.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Friends in high places",
      "desc": "1FP. Roll -4+2L to gain access to powerful authority figures, bypassing standard channels.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Streetwise": [
    {
      "name": "Air of trouble",
      "desc": "Ability to pass of as a much more dangerous person than you really are. Still requires roll.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Friends in low places",
      "desc": "1FP. Roll -4+2L to gain access to powerful criminal/underworld figures, bypassing standard channels.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Public speaking": [],
  "Bartering": [
    {
      "name": "Unusual find",
      "desc": "1FP. Roll -4+2L to find unusual, overlooked items",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Selling",
      "desc": "1FP. +L when selling, to increase the price.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Buying",
      "desc": "1FP. +L when buying, to lower the price.",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Master Haggler",
      "desc": "Must be fully upgraded. No FP cost for upgrades, reroll once on fail",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Business": [],
  "Leadership": [
    {
      "name": "Rally",
      "desc": "+2 attack to all nearby allies, but cannot attack / defend this turn. Recommended to be in cover.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Authoritive",
      "desc": "+L to communication checks. To use, must roll successful Leadership first.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Acting": [
    {
      "name": "Impersonation",
      "desc": "Mimic specific individuals' voices. Acting check required at -6+2L every time someone grows suspiscious.",
      "lvl": 468.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Carousing": [
    {
      "name": "Heavy drinker",
      "desc": "Drink most others under the table without major exertion. Heavy drinking has 5% chance of alcoholism",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Life of the party",
      "desc": "Exhude charisma at social events, improving all attendee's opinions of you",
      "lvl": 3,
      "required": "",
      "type": "U2"
    }
  ],
  "Sex appeal": [
    {
      "name": "Homoerotic",
      "desc": "Even those not normally attracted to your gender can be influenced at -4+2L",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "All things to all",
      "desc": "Even those not normally attracted to your race can be influenced at -4+2L",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "The Oldest Profession",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Animal handling": [
    {
      "name": "Empathy",
      "desc": "Understand behaviour & emotion",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Communication",
      "desc": "L1: basic (very short) commands. L2: more complex interaction",
      "lvl": 48,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Combat",
      "desc": "Instruct animals whilst in combat. L1: companions. L2: all non-hostile animals",
      "lvl": 48,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Wild whisperer",
      "desc": "In many situations, can instruct companion animal to fulfil actions on your behalf",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Camouflage": [],
  "Naturalist": [
    {
      "name": "Natural defences",
      "desc": "Make use of natural environment as cover during combat. +4 to dodge. 1FP",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Revival",
      "desc": "Roll to attempt to regain 2FP when in wilderness. Lose 1FP if fail. May perform once per hour.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Hunting": [
    {
      "name": "Marketable",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Killshot",
      "desc": "+3 to attacks & damage against wild animals if undetected",
      "lvl": "4",
      "required": "Ranged combat",
      "type": "U2"
    }
  ],
  "Area knowledge": [
    {
      "name": "Unfamiliar bearings",
      "desc": "Even in unfamiliar territory, quickly gain useful sense of the environment and potential points of interest",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Marketable (Tourer)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    }
  ],
  "Navigation": [],
  "Survival": [
    {
      "name": "Down with a fight",
      "desc": "+2+L to rolls to remain conscious",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Fast recovery",
      "desc": "Gain 1HP per 15 minute self-conducted therapy for 1FP cost. Can be done up to L times per day",
      "lvl": 234,
      "required": "",
      "type": "U2"
    }
  ],
  "Crewman": [],
  "Traps": [
    {
      "name": "Defusal",
      "desc": "Attempt to defuse traps at -4+2L",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Creation",
      "desc": "Set your own basic traps at -4+2L",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Shadowing": [
    {
      "name": "Marketable",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Observation": [
    {
      "name": "Intuition",
      "desc": "Roll for gut feeling of important things to be looking at",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Eavesdropping",
      "desc": "Discretely overhear conversations at -3+L. Requires Sneak in public areas. +1 for acute hearing",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Eye for value",
      "desc": "Identify most valuable items on target at -2+L",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Sharp ears, sharp eyes",
      "desc": "+1 to Ranged Combat & Empathy",
      "lvl": "4",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Empathy": [
    {
      "name": "Motivations",
      "desc": "1FP. Read underlying motives at -2+L.",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Lying",
      "desc": "1FP. Attempt to discern if individual is lying at -2+L.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Emotions",
      "desc": "1FP. Understand emotional state of individual at -2+L.",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Soulreader",
      "desc": "No FP cost to use empathy upgrades. Insights can be used to gain trust / intimidate.",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Scrounging": [
    {
      "name": "Lucky eye",
      "desc": "Option to roll again",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quick scan",
      "desc": "Reduce time needed to scrounge. L1: 50%, L2: 25%",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Searching": [],
  "First aid": [
    {
      "name": "Major wounds",
      "desc": "Can treat larger wounds at -6+2L",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Revival",
      "desc": "Roll to revive unconscious individual. Cannot use on self",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Unconsciousness",
      "desc": "Can attempt to revive an unconscious individual for 1FP at -8+2L",
      "lvl": 44,
      "required": "",
      "type": "U3"
    }
  ],
  "Basic Mystics": [
    {
      "name": "Identification",
      "desc": "May only roll once per artifact. If failed, will require outside knowledge e.g. text research / expert",
      "lvl": 4.0,
      "required": "Research/Quest",
      "type": "U1"
    },
    {
      "name": "Divine principals I",
      "desc": "Basic understanding of the mythic embedded in Lura",
      "lvl": "Q",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Mystic knowledge I",
      "desc": "Basic working knowledge of the principals of mystic arts.",
      "lvl": "Q",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Mystic Practitioner",
      "desc": "Create rudimentary mystic devices. Sufficient skill to attract attention of more knowledgeable practioners\u2026",
      "lvl": "",
      "required": "All upgrades, Mystic Smithing, Mystic Carpentry",
      "type": "UMAX"
    }
  ],
  "Artifacts": [
    {
      "name": "Safe handling",
      "desc": "May only roll once per artifact. If failed, will require outside knowledge e.g. text research / expert",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Combat use",
      "desc": "Safe handling and Identification required. To use capabilities, must roll at -4+2L before standard attack roll.",
      "lvl": 22244,
      "required": "Identification, Safe handling",
      "type": "U2"
    },
    {
      "name": "Specialised use",
      "desc": "Safe handling and Identification required. To use unusual specialised mystic capabilities, must roll at -4+2L",
      "lvl": 48,
      "required": "Identification, Safe handling",
      "type": "U3"
    },
    {
      "name": "Reconstitution",
      "desc": "Ability to extract core technology from Artifact and repurpose into other devices.",
      "lvl": 8,
      "required": "All upgrades, Safe Handling, Combat or Specialised Use, Mystic Smithing or Woodcraft",
      "type": "UMAX"
    }
  ],
  "Writing": [
    {
      "name": "Forgery",
      "desc": "-6+2L to forge documents",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Research": [
    {
      "name": "Professional publication",
      "desc": "Create lucrative research articles that can afford high prices and prestige in academic circles.",
      "lvl": 5.0,
      "required": "Writing",
      "type": "U1"
    }
  ],
  "Law": [
    {
      "name": "Legal obfuscation",
      "desc": "Attempt to avoid punishment by law enforcement through legal knowledge at -4+2L",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Court martial",
      "desc": "Can attempt to intimidate individuals with threat of law intervention (even if no crime commited) at -4+2L",
      "lvl": 48,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Law)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Healing": [
    {
      "name": "Surgery",
      "desc": "Undertake major surgical operations at -6+2L",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Mystic injuries",
      "desc": "Treat allictions caused by mystic artifacts. Requires Mystics",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Healing)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Humanities": [],
  "Maths": [],
  "History": [
    {
      "name": "Continent",
      "desc": "In-depth knowledge of single continent. Possible to have this upgrade without skill: assume level 0 History",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Major event",
      "desc": "In depth knowledge of specific event, that may be of prolonged duration",
      "lvl": 5,
      "required": "",
      "type": "U2"
    }
  ],
  "Mechanics": [
    {
      "name": "Repairer",
      "desc": "Repair damaged weaponry / devices",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Retooler",
      "desc": "Extract core mechanisms from devices for use elsewhere",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Machiner",
      "desc": "Create rudimentary devices and weaponry. Some will require successful Smithing.",
      "lvl": 8,
      "required": "",
      "type": "U3"
    }
  ],
  "Artistry": [
    {
      "name": "Fiction & poetry",
      "desc": "Low time commitment, but sells cheaply. Takes 1 day, consumes 2FP. Roll at -3+L on completion.",
      "lvl": 244.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Painting & drawing",
      "desc": "Moderate prices, moderate effort. Takes 3 days, 2FP per day until complete. Roll at -3+L upon completion",
      "lvl": 244,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Sculpture",
      "desc": "High prices, but time consuming. Takes 7 days, consumes 2FP per day. Roll at -3+L upon completion",
      "lvl": 244,
      "required": "",
      "type": "U3"
    }
  ],
  "Engineer": [
    {
      "name": "Construction",
      "desc": "Can plan and oversee construction of major structures (e.g. houses, small bridges)",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Destruction",
      "desc": "Can identify weak points in structures, enabling easier destruction",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Advanced design",
      "desc": "Create advanced mechanical devices and weaponry.",
      "lvl": 8,
      "required": "Carpentry, Smithing",
      "type": "U3"
    }
  ],
  "Armoury": [
    {
      "name": "Fashion",
      "desc": "1FP. Create aesthetic clothing. Takes one day. Roll on completion at -2+L. Fail = clothing non-marketable",
      "lvl": 33.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Armour",
      "desc": "Create armour. Two days to complete, 2FP per day. Roll on completion at -2+L: greater success = better armour.",
      "lvl": 55,
      "required": "Smithing",
      "type": "U2"
    }
  ],
  "Performance": [
    {
      "name": "Musician",
      "desc": "1FP. Ability to compentently perform chosen instrument(s) at -6+2L. Easy to find gigs, but pay is often poor.",
      "lvl": 444.0,
      "required": "Writing II",
      "type": "U1"
    },
    {
      "name": "Stage",
      "desc": "1FP. Ability to perform in theatrical productions. Roll -6+2L. Harder to find roles, but better and more stable income.",
      "lvl": 444,
      "required": "Acting II",
      "type": "U2"
    },
    {
      "name": "Dancer",
      "desc": "1FP. Competently perform in dance productions. Roll -6+2L. Very hard to find roles, but high income.",
      "lvl": 444,
      "required": "Acrobatics II",
      "type": "U3"
    },
    {
      "name": "Triple threat",
      "desc": "Access extremely lucrative roles in courts & cities. No FP cost to performing.",
      "lvl": 8,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Disguise": [
    {
      "name": "Improvisation",
      "desc": "Reduce the time it takes to create a disguise. L1 = 50%; L2 = 25%",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Impersonation",
      "desc": "Visually mimic individuals. Disguise check required at -6+2L every time someone grows suspiscious.",
      "lvl": 468,
      "required": "",
      "type": "U2"
    }
  ],
  "Conceal": [],
  "Lockpicking": [
    {
      "name": "Nimble fingers",
      "desc": "Reduces time per attempt. L1: 50%, L2: 10%",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    }
  ],
  "The Investigator (Lewis)": [
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U1"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Commissioner-General",
      "desc": "Special quest. Requires all upgrades.",
      "lvl": 40,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "The Industrial (Tawa)": [
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U1"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Guildmaster-on-High",
      "desc": "Special quest. Requires all upgrades.",
      "lvl": 40,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "The Fist (Buzze)": [
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U1"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Warrior of the Fourth",
      "desc": "Special quest. Requires all upgrades.",
      "lvl": 40,
      "required": "All upgrades, Brawling, Impact",
      "type": "UMAX"
    }
  ],
  "The Inquisitor (Ramon)": [
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U1"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U3"
    },
    {
      "name": "The Ear to All",
      "desc": "Special quest. Requires all upgrades.",
      "lvl": 40,
      "required": "All upgrades, Empathy",
      "type": "UMAX"
    }
  ],
  "The Socialite (Uda)": [
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U1"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Work in progress",
      "desc": "",
      "lvl": "",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Court of the Gods",
      "desc": "Special quest. Requires all upgrades.",
      "lvl": 40,
      "required": "All upgrades, Diplomacy, Savoir-Faire, Streetwise",
      "type": "UMAX"
    }
  ]
}
      // dragging a node invalidates the Diagram.layout, causing a layout during the drag
      myDiagram.toolManager.draggingTool.doMouseMove = function() {
        go.DraggingTool.prototype.doMouseMove.call(this);
        if (this.isActive) { this.diagram.layout.invalidateLayout(); }
      }

      function skill_click(e, obj) {
        var node = obj.part;
        document.getElementById("info-skill-title").innerHTML = node.data.text;
        document.getElementById("info-skill-description").innerHTML = node.data.desc;
        document.getElementById("info-skill-cost").innerHTML = node.data.lvl;
        document.getElementById("info-skill-require").innerHTML = "";

        document.getElementById("info-U1-title").innerHTML = "";
        document.getElementById("info-U2-title").innerHTML = "";
        document.getElementById("info-U3-title").innerHTML = "";
        document.getElementById("info-UMAX-title").innerHTML = "";
        document.getElementById("info-U1-description").innerHTML = "";
        document.getElementById("info-U2-description").innerHTML = "";
        document.getElementById("info-U3-description").innerHTML = "";
        document.getElementById("info-UMAX-description").innerHTML = "";
        document.getElementById("info-U1-cost").innerHTML = "";
        document.getElementById("info-U2-cost").innerHTML = "";
        document.getElementById("info-U3-cost").innerHTML = "";
        document.getElementById("info-UMAX-cost").innerHTML = "";
        document.getElementById("info-U1-require").innerHTML = "";
        document.getElementById("info-U2-require").innerHTML = "";
        document.getElementById("info-U3-require").innerHTML = "";
        document.getElementById("info-UMAX-require").innerHTML = "";

        ugds = upgrades[node.data.text];
        for (var u of ugds) {
          console.log(u)
          var ux = u["type"];
          console.log(ux)
          var prefix = "info-" + ux + "-";
          document.getElementById(prefix + "title").innerHTML = ux + ": " + u.name;
          document.getElementById(prefix + "description").innerHTML = u.desc;
          document.getElementById(prefix + "cost").innerHTML = u.lvl

          var required = u["required"]
          document.getElementById(prefix + "require").innerHTML = required
        }
      }

      // define each Node's appearance
      // Template for a skill. 
      var baseTemplate =
        $(go.Node, "Vertical",  // the whole node panel
          // {isSubGraphExpanded: false, layout: $(go.ForceDirectedLayout)}, //collapse upgrades initially
          $(go.Panel, "Auto",  // Level cost information
            $(go.Shape, "Rectangle",
              { opacity: 0.5 },
              new go.Binding("fill", "color"),
              ),

            $(go.TextBlock,
              { font: "20pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
              new go.Binding("text", "lvl"),
              ),
            ),

          $("Button",
            {click: skill_click},
            $(go.Panel, "Auto",     //Main information
              $(go.Shape, "Rectangle",
                { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
                new go.Binding("fill", "color")
                ),
              $(go.TextBlock,
                { font: "25pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
                new go.Binding("text", "text"),
                ),
              ),    
              // $("SubGraphExpanderButton"),
              ),

          // $(go.Placeholder,     // represents area for all member parts
          //   { padding: new go.Margin(10, 10), background: "white" }
          // ),

          {
            toolTip:  // define a tooltip for each node that displays the color as text
            $("ToolTip",
              $(go.TextBlock, { 
                margin: 4, width: 200},
                new go.Binding("text", "desc"))
              )  // end of Adornment
          }
          );

        var h1Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 40pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var h2Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5), opacity: 0.5 },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 30pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(400, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var h3Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 20pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var upgradeTemplate =
        $(go.Node, "Auto", {visible: false} ,// the whole node panel, hide by inserting: ' {visible: false},'
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "Grey", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            ),
          $(go.TextBlock,
            { font: "15pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var templateMap = new go.Map();
        templateMap.add("", baseTemplate);
        templateMap.add("h1", h1Template);
        templateMap.add("h2", h2Template);
        templateMap.add("h3", h3Template);
        templateMap.add("upgrade", upgradeTemplate);
        myDiagram.nodeTemplateMap = templateMap;

      // myDiagram.groupTemplate = baseTemplate

      // replace the default Link template in the linkTemplateMap
      myDiagram.linkTemplate =
        $(go.Link,  // the whole link panel
          $(go.Shape,  // the link shape
            { stroke: "black" }),
          $(go.Shape,  // the arrowhead
            { toArrow: "standard", stroke: null }),
          $(go.Panel, "Auto",
            $(go.Shape,  // the label background, which becomes transparent around the edges
            {
                fill: null, //$(go.Brush, "Radial", { 0: "rgb(240, 240, 240)", 0.3: "rgb(240, 240, 240)", 1: "rgba(240, 240, 240, 0)" })
                stroke: null
              }),
            $(go.TextBlock,  // the label text
            {
              textAlign: "center",
              font: "10pt helvetica, arial, sans-serif",
              stroke: "#555555",
              margin: 4
            },
            new go.Binding("text", "text"))
            )
          );

      // create the model for the concept map
      var nodeDataArray = [
        { key: 0, text: "SKILL TREE", desc: "Start here.", color: "white", category: "h1" },
        { key: 1, text: "STR", desc: "Strength. Feats of raw power. 10pts to increase", category: "h1", color: "lightcoral" },
        { key: 2, text: "HLT", desc: "Health. Hit points, energy (FP), survival. 10pts to increase.", category: "h1", color: "palegreen" },
        { key: 3, text: "DEX", desc: "Dexterity. Movement, athleticism, physical feats beyond sheer strength. 20pts to increase.", category: "h1", color: "skyblue" },
        { key: 4, text: "INT", desc: "Intelligence. Feats that involve mental agility, experience, capability. 20pts to increase.", category: "h1", color: "thistle" },
        { key: 5, text: "SPC", desc: "Special. Unique skills not tied to a base stat.", category: "h1", color: "bisque" },
        { key: 6, text: "CHR", desc: "Charisma. Communication and sociaciability. 10pts to increase.", category: "h1", color: "khaki" },
        { key: 7, text: "Fighting", desc: "Fighting", category: "h2", color: "lightcoral" },
        { key: 8, text: "Fitness", desc: "Fitness", category: "h2", color: "palegreen" },
        { key: 9, text: "Combat", desc: "Combat", category: "h2", color: "skyblue" },
        { key: 10, text: "Movement", desc: "Movement", category: "h2", color: "skyblue" },
        { key: 11, text: "Stealth", desc: "Stealth", category: "h2", color: "skyblue" },
        { key: 12, text: "Crafting", desc: "Crafting", category: "h2", color: "skyblue" },
        { key: 13, text: "Communication", desc: "Communication", category: "h2", color: "khaki" },
        { key: 14, text: "Social", desc: "Social", category: "h2", color: "khaki" },
        { key: 15, text: "Nature", desc: "Nature", category: "h2", color: "thistle" },
        { key: 16, text: "Travel", desc: "Travel", category: "h2", color: "thistle" },
        { key: 17, text: "Perception", desc: "Perception", category: "h2", color: "thistle" },
        { key: 18, text: "Knowledge", desc: "Knowledge", category: "h2", color: "thistle" },
        { key: 19, text: "Subjects", desc: "Subjects", category: "h2", color: "thistle" },
        { key: 20, text: "Professions", desc: "Professions", category: "h2", color: "thistle" },
        { key: 21, text: "Deception", desc: "Deception", category: "h2", color: "thistle" },
        { key: 22, text: "Character", desc: "Character", category: "h2", color: "bisque" },
        { key: 23, text: "Brawling", desc: "Unsophisticated melee combat. Can only be used when unarmed / with fist-wielded weapons." , color: "lightcoral", lvl: "12446" }, 
        { key: 24, text: "Pin", desc: "Attempt to restrain opponent (must be on floor). Cannot damage whilst pinning without upgrade." , color: "lightcoral", lvl: "2224" }, 
        { key: 25, text: "Tackle", desc: "Take opponent to floor by brute force. DEX skills exist that can also achieve this. Roll vs victim STR." , color: "lightcoral", lvl: "2224" }, 
        { key: 26, text: "Acquatics", desc: "Ability to swim. Unupgraded can swim for 10 minutes at 1m/s, hold breath for 30s" , color: "palegreen", lvl: "2" }, 
        { key: 27, text: "Energy", desc: "Measure of how much can be done in a day" , color: "palegreen", lvl: "0" }, 
        { key: 28, text: "Willpower", desc: "Roll during concentration, interrogation, etc. Note you get Willpower = HT for free (i.e. lvl 3)" , color: "palegreen", lvl: "00224" }, 
        { key: 29, text: "Martial arts", desc: "Advanced unarmed combat / use of specialised equipment. Can use to take opponent to floor." , color: "skyblue", lvl: "24468" }, 
        { key: 30, text: "Melee combat", desc: "Characters start with one of melee or ranged combat." , color: "skyblue", lvl: "10" }, 
        { key: 31, text: "Fencing", desc: "e.g. sabres" , color: "skyblue", lvl: "24468" }, 
        { key: 32, text: "Flail", desc: "e.g. morningstars" , color: "skyblue", lvl: "24468" }, 
        { key: 33, text: "Impact", desc: "e.g. clubs" , color: "skyblue", lvl: "24468" }, 
        { key: 34, text: "Pole", desc: "e.g. polearms" , color: "skyblue", lvl: "24468" }, 
        { key: 35, text: "Sword", desc: "e.g. rapier, broadsword" , color: "skyblue", lvl: "24468" }, 
        { key: 36, text: "Dagger", desc: "Includes all small blades" , color: "skyblue", lvl: "1224" }, 
        { key: 37, text: "Ranged combat", desc: "Characters start with one of melee or ranged combat." , color: "skyblue", lvl: "10" }, 
        { key: 38, text: "Blowpipe", desc: "Darts and stealth air-propelled weaponry" , color: "skyblue", lvl: "2" }, 
        { key: 39, text: "Bow", desc: "All manually drawn ranged weapons" , color: "skyblue", lvl: "24468" }, 
        { key: 40, text: "Crossbow", desc: "All mechanised range weapons" , color: "skyblue", lvl: "24468" }, 
        { key: 41, text: "Thrown weapon", desc: "Can have with melee combat without the base ranged stat" , color: "skyblue", lvl: "2" }, 
        { key: 42, text: "Artillery", desc: "Large-scale ranged devices. E.g. catapults, ballistas, trebuchets" , color: "skyblue", lvl: "4" }, 
        { key: 43, text: "Shield", desc: "All items held for blocking damage" , color: "skyblue", lvl: "24468" }, 
        { key: 44, text: "Climbing", desc: "1FP every 15s without upgrades. A footholded wall is scaled at 1m / 10s" , color: "skyblue", lvl: "1224" }, 
        { key: 45, text: "Acrobatics", desc: "Coordinated physical feats" , color: "skyblue", lvl: "1224" }, 
        { key: 46, text: "Jumping", desc: "Without upgrades, jump your Move/2 far and Move/4 high" , color: "skyblue", lvl: "0" }, 
        { key: 47, text: "Throwing", desc: "Without upgrades, throw 15m/s, max effective 0.5kl, accurate to a breadbox within 5m" , color: "skyblue", lvl: "0" }, 
        { key: 48, text: "Riding", desc: "1FP per minute of riding. Roll to mount" , color: "skyblue", lvl: "1224" }, 
        { key: 49, text: "Speed", desc: "Note, without upgrade, sprinting costs 1FP per 100m" , color: "skyblue", lvl: "0" }, 
        { key: 50, text: "Pickpocket", desc: "Much more difficult if observed, and if in sparsely populated area" , color: "skyblue", lvl: "H448" }, 
        { key: 51, text: "Sneak", desc: "1/2FP. Roll every 5s if within 5 metres, 15s in close proximity, 60s if further. Bonus if out of sight." , color: "skyblue", lvl: "12468" }, 
        { key: 52, text: "Escape", desc: "1FP. Restraints, rope-ties. Takes about 10 minutes per attempt." , color: "skyblue", lvl: "2446" }, 
        { key: 53, text: "Smithing", desc: "Metalworking. Fashion crude items without upgrades." , color: "skyblue", lvl: "12248" }, 
        { key: 54, text: "Lumberjack", desc: "Felling wood" , color: "skyblue", lvl: "224" }, 
        { key: 55, text: "Carpentry", desc: "Crafting wood" , color: "skyblue", lvl: "244" }, 
        { key: 56, text: "Interrogation", desc: "1FP. Roll vs. victim's willpower. Failure may cause victim to lie / become useless. Requires credible threat." , color: "khaki", lvl: "H4468" }, 
        { key: 57, text: "Diplomacy", desc: "1/2FP. Persuasion and de-escalation of tensions." , color: "khaki", lvl: "H12468" }, 
        { key: 58, text: "Fast-Talk", desc: "1/2FP. Quick lies, verbal deception. Failures may significantly reduce person's opinion of you" , color: "khaki", lvl: "H12468" }, 
        { key: 59, text: "Intimidation", desc: "1FP. Roll vs. victim's willpower. Failure may cause victim to lie / become useless. Requires credible threat." , color: "khaki", lvl: "H24468" }, 
        { key: 60, text: "Savoir-Faire", desc: "Knowledge of etiquette, cultural expectations, especially amongst upper-lcass" , color: "khaki", lvl: "12446" }, 
        { key: 61, text: "Streetwise", desc: "Knowledge of mannerisms of criminals / lowlife individuals" , color: "khaki", lvl: "12446" }, 
        { key: 62, text: "Public speaking", desc: "1/2FP. Oratory and addressing en masse." , color: "khaki", lvl: "H12468" }, 
        { key: 63, text: "Bartering", desc: "Trading goods and services. Many marketable skills require good Bartering to command a decent price." , color: "khaki", lvl: "24468" }, 
        { key: 64, text: "Business", desc: "Run a store, manage operations" , color: "khaki", lvl: "H2448" }, 
        { key: 65, text: "Leadership", desc: "Giving orders, strategising, managing individuals" , color: "khaki", lvl: "12446" }, 
        { key: 66, text: "Acting", desc: "1FP per 15 minutes. Longer-term ruses and feigning behaviour." , color: "khaki", lvl: "H12468" }, 
        { key: 67, text: "Carousing", desc: "Endurance at social gatherings" , color: "khaki", lvl: "124" }, 
        { key: 68, text: "Sex appeal", desc: "Without upgrades, only works on those who are attracted to your gender/race" , color: "khaki", lvl: "124" }, 
        { key: 69, text: "Animal handling", desc: "Understsanding of animal behaviour, basic communications if trained." , color: "thistle", lvl: "H12468" }, 
        { key: 70, text: "Camouflage", desc: "Both for beings and inanimate objects. 1FP per attempt." , color: "thistle", lvl: "124" }, 
        { key: 71, text: "Naturalist", desc: "Understanding and ability to harness natural resources." , color: "thistle", lvl: "124" }, 
        { key: 72, text: "Hunting", desc: "Tracking and killing animals" , color: "thistle", lvl: "12446" }, 
        { key: 73, text: "Area knowledge", desc: "Understanding beyond what would be known to wandering traveller, usually applies to specific area" , color: "thistle", lvl: "112" }, 
        { key: 74, text: "Navigation", desc: "Use of maps, or basic intuition on landscape if available." , color: "thistle", lvl: "124" }, 
        { key: 75, text: "Survival", desc: "Ability to withstand challenging environments" , color: "thistle", lvl: "12446" }, 
        { key: 76, text: "Crewman", desc: "Helping on ship, army, large organisation" , color: "thistle", lvl: "112" }, 
        { key: 77, text: "Traps", desc: "Indentification of traps." , color: "thistle", lvl: "12446" }, 
        { key: 78, text: "Shadowing", desc: "1FP and one roll every 60s, half if in close proximity, half if in uncrowded area, double if unsuspecting" , color: "thistle", lvl: "12468" }, 
        { key: 79, text: "Observation", desc: "1/2FP. Discrete observation of situations, people, etc. Assume level 0 if does not have skill / upgarde" , color: "thistle", lvl: "12446" }, 
        { key: 80, text: "Empathy", desc: "Read intelligent emotion. Assume level 0 if does not have skill / upgrade" , color: "thistle", lvl: "12468" }, 
        { key: 81, text: "Scrounging", desc: "1FP. Find items in local area. Usually takes 30 minutes" , color: "thistle", lvl: "12446" }, 
        { key: 82, text: "Searching", desc: "1FP. Look for concealed items on person / in environment" , color: "thistle", lvl: "1124" }, 
        { key: 83, text: "First aid", desc: "1FP. Treatment of other's small wounds. Easier if there is access to equipment" , color: "thistle", lvl: "12446" }, 
        { key: 84, text: "Basic Mystics", desc: "Rudimentary knowledge of mysic arts. Opens door to several more potential mystic paths." , color: "thistle", lvl: "248" }, 
        { key: 85, text: "Artifacts", desc: "One per owned artifact. This skill cannot be gained on an unidentified artifact." , color: "thistle", lvl: "248" }, 
        { key: 86, text: "Writing", desc: "Ability to write fluently beyond basic communication" , color: "thistle", lvl: "12446" }, 
        { key: 87, text: "Research", desc: "Read formal documents and records, find information amongst a large collection." , color: "thistle", lvl: "12446" }, 
        { key: 88, text: "Law", desc: "Knowledge of basic protections afforded in different societies" , color: "thistle", lvl: "248" }, 
        { key: 89, text: "Healing", desc: "Longer term diagnosis and treatment of injuries and maladies. Doctors will have Healing skill." , color: "thistle", lvl: "248" }, 
        { key: 90, text: "Humanities", desc: "Studies of races, history, societies, organisation" , color: "thistle", lvl: "12468" }, 
        { key: 91, text: "Maths", desc: "Numerical intepretation. Required base for other subjects." , color: "thistle", lvl: "12468" }, 
        { key: 92, text: "History", desc: "Specific knowledge of a region / race / major event. Each is one skill. Can be leveled via research." , color: "thistle", lvl: "Q" }, 
        { key: 93, text: "Mechanics", desc: "Understanding of machinery, weapons, and devices. Interaction requires upgrades." , color: "thistle", lvl: "12468" }, 
        { key: 94, text: "Artistry", desc: "Create works that can be sold. Higher success = better quality.  Assume Lvl 0 if does not have upgrade." , color: "thistle", lvl: "12446" }, 
        { key: 95, text: "Engineer", desc: "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering." , color: "thistle", lvl: "448" }, 
        { key: 96, text: "Armoury", desc: "Creation of clothing & armour. Good items may be sold" , color: "thistle", lvl: "12468" }, 
        { key: 97, text: "Performance", desc: "Entertainment as a profession." , color: "thistle", lvl: "12468" }, 
        { key: 98, text: "Disguise", desc: "1FP per attempt. Normally requires about 30 minutes to create a workable disguise." , color: "thistle", lvl: "12468" }, 
        { key: 99, text: "Conceal", desc: "1FP per attempt. Hide items, either in specific place or on specific individual." , color: "thistle", lvl: "12446" }, 
        { key: 100, text: "Lockpicking", desc: "1FP per attempt. Takes around 5 minutes." , color: "thistle", lvl: "H12468" }, 
        { key: 101, text: "The Investigator (Lewis)", desc: "" , color: "bisque", lvl: "Q" }, 
        { key: 102, text: "The Industrial (Tawa)", desc: "" , color: "bisque", lvl: "Q" }, 
        { key: 103, text: "The Fist (Buzze)", desc: "" , color: "bisque", lvl: "Q" }, 
        { key: 104, text: "The Inquisitor (Ramon)", desc: "" , color: "bisque", lvl: "Q" }, 
        { key: 105, text: "The Socialite (Uda)", desc: "" , color: "bisque", lvl: "Q" }, 

      ];

      var linkDataArray = [
        { from: 0, to: 1},
        { from: 0, to: 2},
        { from: 0, to: 3},
        { from: 0, to: 4},
        { from: 0, to: 5},
        { from: 0, to: 6},
        { from: 1, to: 7}, 
        { from: 2, to: 8}, 
        { from: 3, to: 9}, 
        { from: 3, to: 10}, 
        { from: 3, to: 11}, 
        { from: 3, to: 12}, 
        { from: 6, to: 13}, 
        { from: 6, to: 14}, 
        { from: 4, to: 15}, 
        { from: 4, to: 16}, 
        { from: 4, to: 17}, 
        { from: 4, to: 18}, 
        { from: 4, to: 19}, 
        { from: 4, to: 20}, 
        { from: 4, to: 21}, 
        { from: 5, to: 22}, 
        { from: 7, to: 23}, 
        { from: 7, to: 24}, 
        { from: 7, to: 25}, 
        { from: 8, to: 26}, 
        { from: 8, to: 27}, 
        { from: 8, to: 28}, 
        { from: 30, to: 29}, 
        { from: 23, to: 29}, 
        { from: 9, to: 30}, 
        { from: 30, to: 31}, 
        { from: 30, to: 32}, 
        { from: 30, to: 33}, 
        { from: 30, to: 34}, 
        { from: 30, to: 35}, 
        { from: 30, to: 36}, 
        { from: 9, to: 37}, 
        { from: 37, to: 38}, 
        { from: 37, to: 39}, 
        { from: 37, to: 40}, 
        { from: 37, to: 41}, 
        { from: 9, to: 42}, 
        { from: 9, to: 43}, 
        { from: 10, to: 44}, 
        { from: 10, to: 45}, 
        { from: 10, to: 46}, 
        { from: 10, to: 47}, 
        { from: 10, to: 48}, 
        { from: 10, to: 49}, 
        { from: 11, to: 50}, 
        { from: 11, to: 51}, 
        { from: 11, to: 52}, 
        { from: 12, to: 53}, 
        { from: 12, to: 54}, 
        { from: 54, to: 55}, 
        { from: 13, to: 56}, 
        { from: 13, to: 57}, 
        { from: 13, to: 58}, 
        { from: 13, to: 59}, 
        { from: 13, to: 60}, 
        { from: 13, to: 61}, 
        { from: 13, to: 62}, 
        { from: 13, to: 63}, 
        { from: 63, to: 64}, 
        { from: 13, to: 65}, 
        { from: 13, to: 66}, 
        { from: 14, to: 67}, 
        { from: 14, to: 68}, 
        { from: 15, to: 69}, 
        { from: 15, to: 70}, 
        { from: 15, to: 71}, 
        { from: 15, to: 72}, 
        { from: 16, to: 73}, 
        { from: 16, to: 74}, 
        { from: 16, to: 75}, 
        { from: 16, to: 76}, 
        { from: 16, to: 77}, 
        { from: 17, to: 78}, 
        { from: 17, to: 79}, 
        { from: 79, to: 80}, 
        { from: 17, to: 81}, 
        { from: 17, to: 82}, 
        { from: 18, to: 83}, 
        { from: 18, to: 84}, 
        { from: 84, to: 85}, 
        { from: 18, to: 86}, 
        { from: 86, to: 87}, 
        { from: 86, to: 88}, 
        { from: 83, to: 89}, 
        { from: 86, to: 90}, 
        { from: 19, to: 91}, 
        { from: 19, to: 92}, 
        { from: 91, to: 93}, 
        { from: 20, to: 94}, 
        { from: 93, to: 95}, 
        { from: 20, to: 96}, 
        { from: 20, to: 97}, 
        { from: 21, to: 98}, 
        { from: 21, to: 99}, 
        { from: 21, to: 100}, 
        { from: 22, to: 101}, 
        { from: 22, to: 102}, 
        { from: 22, to: 103}, 
        { from: 22, to: 104}, 
        { from: 22, to: 105}, 
      ];

      myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);

      global_diagram = myDiagram;
      import_layout();
    }

    function reload() {
      //myDiagram.layout.network = null;
      var text = myDiagram.model.toJson();
      myDiagram.model = go.Model.fromJson(text);
      //myDiagram.layout =
      //  go.GraphObject.make(ContinuousForceDirectedLayout,  // automatically spread nodes apart while dragging
      //    { defaultSpringLength: 30, defaultElectricalCharge: 100 });
    }

    function export_layout() {
      locations = [];
      global_diagram.nodes.each(function(n) {locations.push(n.location)});
      var text = JSON.stringify(locations);
      console.log(text);
    }

    function import_layout() {
      text = '[{"x":806.4804621516537,"y":15.76342145944421,"s":false},{"x":764.8994341303078,"y":244.14575980473018,"s":false},{"x":905.2009135323979,"y":-144.70859202104015,"s":false},{"x":157.86357215915817,"y":29.15028488506156,"s":false},{"x":1598.8037823916375,"y":88.32257527516995,"s":false},{"x":952.7733762877315,"y":389.5894965512113,"s":false},{"x":707.0463070473573,"y":-321.5551721047984,"s":false},{"x":675.4970181036703,"y":447.0935994434498,"s":false},{"x":1050.7735894747977,"y":-303.1401917287579,"s":false},{"x":59.393424309253305,"y":368.5364295733936,"s":false},{"x":-69.22420449245305,"y":-250.2701066481231,"s":false},{"x":-59.01619959775865,"y":49.75276613095569,"s":false},{"x":-302.93646014570476,"y":-5.4409886176398565,"s":false},{"x":525.9349631622114,"y":-694.3409597028407,"s":false},{"x":648.2787856706735,"y":-189.8837647945614,"s":false},{"x":1290.408682034569,"y":161.9868327095539,"s":false},{"x":1685.4496306840726,"y":-297.62625527366174,"s":false},{"x":1615.0990554291575,"y":486.4612693494469,"s":false},{"x":2055.312791973144,"y":185.3233625471537,"s":false},{"x":1852.3598030169221,"y":-42.823260644151425,"s":false},{"x":1331.9236905243135,"y":-21.729890583140637,"s":false},{"x":1702.299735263094,"y":213.96787638268438,"s":false},{"x":1000.140247168809,"y":775.052039724402,"s":false},{"x":512.7457170112156,"y":599.2488764296144,"s":false},{"x":732.4909601362183,"y":561.3051135129236,"s":false},{"x":878.7860371401046,"y":555.1631630202266,"s":false},{"x":1105.3690082066457,"y":-487.512617192412,"s":false},{"x":907.8280381623638,"y":-440.285232533665,"s":false},{"x":1270.9110016623017,"y":-334.6073723895056,"s":false},{"x":252.2960514981373,"y":691.8312746454812,"s":false},{"x":24.805387373680045,"y":670.689635606219,"s":false},{"x":8.204703713017384,"y":876.7932150901394,"s":false},{"x":-119.22354525055421,"y":547.084301775847,"s":false},{"x":213.187993432886,"y":854.1389404620974,"s":false},{"x":-144.17779809338873,"y":849.6241236099258,"s":false},{"x":-171.4821865335493,"y":698.5105735030553,"s":false},{"x":55.927980007627795,"y":526.9280140540767,"s":false},{"x":300.1333317847274,"y":304.01044985127515,"s":false},{"x":458.43630739640577,"y":139.50337387769827,"s":false},{"x":304.81872603541643,"y":162.69997797649663,"s":false},{"x":492.50092983227074,"y":294.8474911616565,"s":false},{"x":295.54886536582814,"y":485.70234573859847,"s":false},{"x":-146.68470980712394,"y":360.0358199623124,"s":false},{"x":106.1156407315958,"y":226.1771107569726,"s":false},{"x":178.34813293429215,"y":-397.62415714598757,"s":false},{"x":-79.59457419089046,"y":-384.1396280456232,"s":false},{"x":-63.865189014535595,"y":-522.3468079366729,"s":false},{"x":-311.78738509312905,"y":-381.9357524154344,"s":false},{"x":-259.4684532775709,"y":-219.84776498561803,"s":false},{"x":208.37664698751303,"y":-210.78908152337306,"s":false},{"x":-65.12549240254357,"y":-106.64742113333885,"s":false},{"x":-78.52344291306449,"y":166.06973252139846,"s":false},{"x":-273.76409929181426,"y":128.49272736365663,"s":false},{"x":-521.6782433604566,"y":75.92830045197621,"s":false},{"x":-568.1617208012631,"y":-113.34038363836736,"s":false},{"x":-793.1142305882832,"y":-226.91437394910633,"s":false},{"x":418.26291031596537,"y":-980.7437590440945,"s":false},{"x":262.21379213943953,"y":-658.8370648461785,"s":false},{"x":712.4439191521536,"y":-587.3966230174534,"s":false},{"x":934.170753654785,"y":-685.0606990609344,"s":false},{"x":935.6027016474993,"y":-837.3179437325408,"s":false},{"x":696.8764587783583,"y":-837.7528136320892,"s":false},{"x":502.86123277545124,"y":-560.0544054328789,"s":false},{"x":705.3265364309274,"y":-979.2279869934363,"s":false},{"x":791.4237471712968,"y":-1135.4209295177338,"s":false},{"x":241.97178794726563,"y":-808.8402455909659,"s":false},{"x":490.125272290882,"y":-839.3158179546568,"s":false},{"x":433.00381916167345,"y":-316.4528241319383,"s":false},{"x":460.74275476635273,"y":-72.79642318277001,"s":false},{"x":1470.2679326506309,"y":258.1022926849197,"s":false},{"x":1207.0049691478603,"y":313.4291428883828,"s":false},{"x":1048.8598457985681,"y":169.05990965278878,"s":false},{"x":1119.581114216421,"y":18.404159214736296,"s":false},{"x":1773.0923480468362,"y":-550.9358226171868,"s":false},{"x":1861.9749714638365,"y":-207.88957023852404,"s":false},{"x":1890.0235296662702,"y":-363.3826953461292,"s":false},{"x":1542.1376698867884,"y":-484.495834460687,"s":false},{"x":1524.073985481152,"y":-331.6170594641796,"s":false},{"x":1572.8724148271087,"y":625.3308017403435,"s":false},{"x":1822.3018945999922,"y":680.9533782516805,"s":false},{"x":1910.2317173857248,"y":836.2733819366007,"s":false},{"x":1351.5551952542917,"y":482.82571172393244,"s":false},{"x":1904.1845766174729,"y":520.729888631341,"s":false},{"x":2183.1695110376277,"y":319.73845324815466,"s":false},{"x":2321.767916583214,"y":1.9567015028519306,"s":false},{"x":2516.5011042647184,"y":-106.35554405622689,"s":false},{"x":2425.315329552682,"y":263.0852848540469,"s":false},{"x":2644.722979796502,"y":274.41444320345084,"s":false},{"x":2553.208069591386,"y":108.81137134546766,"s":false},{"x":2206.081724741317,"y":478.74831821212103,"s":false},{"x":2438.9278361573924,"y":435.4764742038407,"s":false},{"x":2117.452499476874,"y":-185.06333777903686,"s":false},{"x":2096.6482652487116,"y":-1.7071426898062465,"s":false},{"x":2237.21887636295,"y":-342.95838541869966,"s":false},{"x":1637.1042983534753,"y":-127.64283540056296,"s":false},{"x":2414.839579705818,"y":-495.07126373880664,"s":false},{"x":1403.2739528552652,"y":-158.4972912277631,"s":false},{"x":1096.9423783675652,"y":-155.12646311651878,"s":false},{"x":1948.9909627353197,"y":325.82699181640936,"s":false},{"x":1816.0696595128677,"y":77.25268399864274,"s":false},{"x":1685.592157627745,"y":327.0839280136041,"s":false},{"x":1071.5934066554178,"y":947.8870449276486,"s":false},{"x":1298.7791583528012,"y":730.7593014766858,"s":false},{"x":791.574943797864,"y":743.0377239011137,"s":false},{"x":849.6801380266519,"y":934.5479443099575,"s":false},{"x":1077.9231414994242,"y":555.7881465798969,"s":true}]'

      var locations = JSON.parse(text);
      var i = 0;
      global_diagram.nodes.each(function(n) {
        n.location = new go.Point(locations[i].x, locations[i].y);
        i += 1;
      });

      
    }
  </script>
</head>
<body onload="init()">
    <div id="myDiagramDiv" style="background-color: whitesmoke; width: 79%; height: 95vh; float: left; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto;"><canvas tabindex="0" width="1504" height="890" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; width: 1504px; height: 890px; cursor: auto;">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 1504px; height: 890px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
<div id="info-panel" ,="" style="width: 20%; height: 95vh; background: white; float: left">
  
  <div class="info-title">
    <p id="info-skill-title">Title</p>
  </div>
  <div class="info-skill-description">
    <p class="info-cost" ,="" id="info-skill-cost">Level cost</p>
    <p class="info-require" ,="" id="info-skill-require">Requirements</p>
    <p id="info-skill-description">Description</p>
  </div>
  
  <div class="info-title">
    <p id="info-U1-title" ,="" class="info-u-title">Upgrade A</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U1-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U1-require">Requirements</p>
    <p id="info-U1-description">Upgrade A Description</p>
  </div>
  
  <div class="info-title">
    <p id="info-U2-title" ,="" class="info-u-title">Upgrade B</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U2-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U2-require">Requirements</p>
    <p id="info-U2-description">Upgrade B Description</p>
  </div>  

  <div class="info-title">
    <p id="info-U3-title" ,="" class="info-u-title">Upgrade C</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U3-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U3-require">Requirements</p>
    <p id="info-U3-description">Upgrade C Description</p>
  </div>

  <div class="info-title">
    <p id="info-UMAX-title" ,="" class="info-u-title">Upgrade Max</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-UMAX-cost">Level cost</p>
    <p class="info-require" ,="" id="info-UMAX-require">Requirements</p>
    <p id="info-UMAX-description">Upgrade Max Description</p>
  </div>
</div>


</body></html>