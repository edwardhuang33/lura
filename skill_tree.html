<!DOCTYPE html>
<!-- saved from url=(0056)file:///D:/Google%20Drive/Other/Lura/Web/skill_tree.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>Interactive Force Directed Layout</title>
  <meta name="description" content="A continuously operating ForceDirectedLayout lets the user push and pull nodes around.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./skill_tree_files/skill_tree_styles.css">
  <script src="./skill_tree_files/go.js.download"></script>
  <!-- <script src="../assets/js/goSamples.js"></script> -->  <!-- this is only for the GoJS Samples framework -->
  <script id="code">
    var global_diagram = null;

    // This variation on ForceDirectedLayout does not move any selected Nodes
    // but does move all other nodes (vertexes).
    function ContinuousForceDirectedLayout() {
      go.ForceDirectedLayout.call(this);
      this._isObserving = false;
    }
    go.Diagram.inherit(ContinuousForceDirectedLayout, go.ForceDirectedLayout);

    ContinuousForceDirectedLayout.prototype.isFixed = function(v) {
      return v.node.isSelected;
    }

    // optimization: reuse the ForceDirectedNetwork rather than re-create it each time
    ContinuousForceDirectedLayout.prototype.doLayout = function(coll) {
      if (!this._isObserving) {
        this._isObserving = true;
        // cacheing the network means we need to recreate it if nodes or links have been added or removed or relinked,
        // so we need to track structural model changes to discard the saved network.
        var lay = this;
        this.diagram.addModelChangedListener(function(e) {
          // modelChanges include a few cases that we don't actually care about, such as
          // "nodeCategory" or "linkToPortId", but we'll go ahead and recreate the network anyway.
          // Also clear the network when replacing the model.
          if (e.modelChange !== "" ||
            (e.change === go.ChangedEvent.Transaction && e.propertyName === "StartingFirstTransaction")) {
            lay.network = null;
        }
      });
      }
      var net = this.network;
      if (net === null) {  // the first time, just create the network as normal
        this.network = net = this.makeNetwork(coll);
      } else {  // but on reuse we need to update the LayoutVertex.bounds for selected nodes
        this.diagram.nodes.each(function(n) {
          var v = net.findVertex(n);
          if (v !== null) v.bounds = n.actualBounds;
        });
      }
      // now perform the normal layout
      go.ForceDirectedLayout.prototype.doLayout.call(this, coll);
      // doLayout normally discards the LayoutNetwork by setting Layout.network to null;
      // here we remember it for next time
      this.network = net;
      global_network = this.network
    }
    // end ContinuousForceDirectedLayout


    function init() {
      // if (window.goSamples) goSamples();  // init for these samples -- you don't need to call this
      var $ = go.GraphObject.make;  // for conciseness in defining templates

      myDiagram =
        $(go.Diagram, "myDiagramDiv",  // must name or refer to the DIV HTML element
        {
            initialAutoScale: go.Diagram.Uniform,  // an initial automatic zoom-to-fit
            contentAlignment: go.Spot.Center,  // align document to the center of the viewport
            "toolManager.hoverDelay" : 1,
            "toolManager.mouseWheelBehavior" : go.ToolManager.WheelZoom,
            layout:
              $(ContinuousForceDirectedLayout,  // automatically spread nodes apart while dragging
                { defaultSpringLength: 20, defaultElectricalCharge: 100, defaultGravitationalMass: 100 }),
            // do an extra layout at the end of a move
            "SelectionMoved": function(e) { e.diagram.layout.invalidateLayout(); }
          });


      // Upgrades dictionary
      
      upgrades = {
  "Brawling": [
    {
      "name": "Heavy swing",
      "desc": "=+1+L damage. 1FP",
      "lvl": 22.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Charging tackle",
      "desc": "Attempt to take opponent down to ground at lower of -4+2L or tackle skill. Deal sw damage. 1FP",
      "lvl": 44,
      "required": "Tackle",
      "type": "U2"
    },
    {
      "name": "Furious fists",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot stack.",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Beserker",
      "desc": "Extra action at 1FP each, either whilst attacking or defending. Up to 4 extra actions per turn",
      "lvl": 6,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Pin": [
    {
      "name": "Scuffler",
      "desc": "Can roll any standard combat roll whilst pinning someone.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Disorientate",
      "desc": "4/L consecutive turns of pin will stun opponent for L rounds.",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Knockout",
      "desc": "1FP per round. Roll Pin-2. 3 successful rounds of knockout incapacitates the enemy.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Mortal Threat",
      "desc": "1FP. If armed, Intimidate +4 to threaten death if opponent does not relent.",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Tackle": [
    {
      "name": "Unawares",
      "desc": "If not in direct line of sight, roll Sneak to take to ground without resistance.",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Roll off",
      "desc": "Even if tackle fails, 1FP to roll to a Move & Attack distance in the same turn.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disarm",
      "desc": "Tackled opponents also drop their weapon.",
      "lvl": 6,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Stone Cold",
      "desc": "Tackled enemy must roll Will - 5 to avoid stun, and DEX to avoid 2 damage (ignore armour).",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Acquatics": [
    {
      "name": "Seafare",
      "desc": "Working knowledge of sailing, rowing",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Swim speed",
      "desc": "Increase swim speed by L times",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Endurance",
      "desc": "Holding breath, and prolonged swimming, each by L times",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Terror of the Sea",
      "desc": "Must be fully upgraded. Can stealth easily underwater, and no penalty to attacks.",
      "lvl": 0,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Energy": [
    {
      "name": "Adrenaline",
      "desc": "Roll to regain L FP when combat initiates. 5% chance of gaining bloodlust until combat finishes",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist",
      "desc": "Regain an extra 2*LFP if you go a whole day without fighting. Lose 1FP every time you enter combat",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Intense focus",
      "desc": "Spend 1HP to regain 4FP. Can use every 2 hours.",
      "lvl": 3,
      "required": "",
      "type": "U3"
    }
  ],
  "Willpower": [
    {
      "name": "Meditation",
      "desc": "Regain 2FP for every 15 minute meditation. Can perform up to L times per day.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Metabolism",
      "desc": "Gain an extra LFP when consuming an FP-restoring meal",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Combat focus",
      "desc": "Spend 1FP to use a skill and perform a regular combat move in the same turn.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    }
  ],
  "Martial arts": [
    {
      "name": "Non-lethal takedown",
      "desc": "-8+2L to immediately incapicitate opponent. 2FP. Crit fails may kill opponent",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Stealth subdue",
      "desc": "If undetected, incapicitate opponent at -2+L",
      "lvl": 48,
      "required": "Sneak",
      "type": "U2"
    },
    {
      "name": "Brutalise",
      "desc": "Attempt to inflict maximum pain. 1FP. Opponent rolls Willpower to avoid stun. Nearby enemies roll Will+2",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Fighting Master",
      "desc": "If opponent armed, +2 to all defence rolls. +1 to all Brawling, Pin, Tackle, Martial Arts rolls (incl. upgrades).",
      "lvl": "Q",
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Melee combat": [
    {
      "name": "Melee specialist",
      "desc": "=+1 to melee attacks. Cannot have ranged skills.",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Close-quarter expert",
      "desc": "Act as if lvl L on all melee weapons, even if you do not have the skill",
      "lvl": 2234,
      "required": "",
      "type": "U2"
    }
  ],
  "Fencing": [
    {
      "name": "Rapid strike",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot combine.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Parry and strike (fencing)",
      "desc": "Successful parries can be immediately followed up by an attack at -3+L for 1FP. Cannot stack other bonuses/upgrades.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Overextend",
      "desc": "=+3 damage on success, but no defense roll next turn. 1FP",
      "lvl": "4",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Breakthrough",
      "desc": "Attempt a strike, opponent does not get defence roll. Costs 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Flail": [
    {
      "name": "Overhead swing",
      "desc": "=+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Overextend",
      "desc": "=+3 damage on success, but no defense roll next turn. 1FP",
      "lvl": "4",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disarm",
      "desc": "Attempt to disarm opponent's weapon at -4+L. Opponent cannot use parry. 2FP",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Round and round",
      "desc": "On successful hit, attempt another hit at -1 for 1FP. Further hits after that cost 2FP.",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Impact": [
    {
      "name": "Crushing blow",
      "desc": "=+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Wide swing (impact)",
      "desc": "Can roll an additional L targets in range for 1FP each",
      "lvl": 234,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Disorientate",
      "desc": "Attempt hit - if successful, opponent must roll Willpower-L to not be stunned. 1FP",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Bonebreaker",
      "desc": "Attempt a devestating blow at -2 that incapitates a limb if successful. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Pole": [
    {
      "name": "Floor sweep",
      "desc": "Attempt at -3+L to sweep opponent to ground. 1FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distant strike",
      "desc": "Increase weapon reach to 4. 1FP",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Twirl",
      "desc": "Attack at -2, but gain +4 parry until your next turn. 1FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Whirlwind",
      "desc": "Sweep in a full circle, rolling against all enemies within 3 tiles. Enemies roll DX-3 to not fall to floor. 2FP.",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Sword": [
    {
      "name": "Forward thrust",
      "desc": "=+1+L damage. 2FP",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Parry and strike (sword)",
      "desc": "Successful parries can be immediately followed up by an attack at -3+L for 1FP. Cannot stack other bonuses/upgrades.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Wide swing (sword)",
      "desc": "Can roll an additional L targets in range for 1FP each",
      "lvl": 234,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Execute",
      "desc": "Launch a masterful attack. -3 opponent defend. Ignores armor. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Dagger": [
    {
      "name": "Rapid strike",
      "desc": "Attempt up to L extra strikes at target on miss/defend. 1FP per extra strike. Cannot combine.",
      "lvl": 234.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Swift offence (dagger)",
      "desc": "1FP. No move and attack penalty",
      "lvl": 3,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Weak point (dagger)",
      "desc": "Attempt an attack that ignores armor. 2FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Silent takedown",
      "desc": "If undetected, attempt an attack that is lethal to all but the toughest opponents. 4FP",
      "lvl": "Q",
      "required": "All upgrades, Sneak II",
      "type": "UMAX"
    }
  ],
  "Ranged combat": [
    {
      "name": "Ranged specialist",
      "desc": "=+1 to ranged attacks. Cannot have melee skills other than Dagger",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distant threat",
      "desc": "Act as if lvl L on all ranged weapons, even if you do not have the skill",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Blowpipe": [
    {
      "name": "Steady hand (pipe)",
      "desc": "1FP. Double your aim bonus",
      "lvl": 2.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Weak point (pipe)",
      "desc": "Attempt an attack that ignores armor. 1FP",
      "lvl": 3,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Swift offence (pipe)",
      "desc": "1FP. No move and attack penalty",
      "lvl": 3,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Shadowshot",
      "desc": "If undetected, +3 to attack, +1 to damage. Attacking does not affect stealth",
      "lvl": "Q",
      "required": "All upgrades, Sneak II",
      "type": "UMAX"
    }
  ],
  "Bow": [
    {
      "name": "Steady hand (bow)",
      "desc": "",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quickdraw (bow)",
      "desc": "Bypass unsheath / reload time for 1FP.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Multi-shot",
      "desc": "Fire L additional arrows in broadly same direction. -2 for first extra arrow, -3 for second. Cannot combine.",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Nimble bowmaster",
      "desc": "No penalty if moving and firing. +2 against all targets. 2FP",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Crossbow": [
    {
      "name": "Steady hand (crossbow)",
      "desc": "",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quickdraw (crossbow)",
      "desc": "Bypass unsheath / reload time for 1FP.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Parry trigger",
      "desc": "After successful parry, fire an arrow at -2 for 1FP",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Stronghold",
      "desc": "=+3 to defense if not moving. No range damage penalty. Can wield shield with crossbow (-2 attack)",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Thrown weapon": [
    {
      "name": "Steady hand (thrown)",
      "desc": "1FP. Double your aim bonus",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quickshot",
      "desc": "On miss, attempt another L times in same turn. 1FP per re-attempt",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Covered throw",
      "desc": "Attack at -2 even during all-out defence. 1FP",
      "lvl": 3,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Kill chain",
      "desc": "2FP to activate. On successful hit, throw another weapon, up to 5x.",
      "lvl": "Q",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Artillery": [],
  "Shield": [
    {
      "name": "Cover",
      "desc": "No attack this turn, but +7 to block until your next turn",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Charge",
      "desc": "As an attack, run at opponent (must be in move range). If opponent fails dodge, falls to floor. 1FP",
      "lvl": 2,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Vanguard",
      "desc": "Slowly advance, +4 to block. Cover up to two others (inherit your block). 1FP, +1FP every 2s. Cannot attack.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Defensive offence",
      "desc": "Attack at -2, but gain +4 block until next turn. 1FP",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Climbing": [
    {
      "name": "Speed (climb.)",
      "desc": "Climb L times faster",
      "lvl": 224.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Endurance",
      "desc": "Increase time between FP drain by 2L",
      "lvl": 224,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Hanging",
      "desc": "Hang from a position with 5L times less FP drain",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Shadows above",
      "desc": "If at a height advantage, remain hidden if unmoving",
      "lvl": 4,
      "required": "All upgrades, Sneak II",
      "type": "UMAX"
    }
  ],
  "Acrobatics": [
    {
      "name": "Combative acrobatics",
      "desc": "Advanced movement possible in combat. For 1FP Reduce standard 'Move and Attack' penalty by 2L.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Distracting flair",
      "desc": "Perform stunts that may distract individuals / crowds, at -4+2L",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Acrobat)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "As the River",
      "desc": "=+1 to Dodge, Jump, Ride, Climb, Sneak, Escape",
      "lvl": "6",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Jumping": [
    {
      "name": "Height",
      "desc": "Jump L times higher",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Length",
      "desc": "Jump L times further",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Smash",
      "desc": "1FP. Jump whilst attacking to reduce opponent defence by 2L and increase damage by L.",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Featherfoot",
      "desc": "Easily clear almost all jumps. 1FP in combat to clear large distances, no move penalty, +3 dmg.",
      "lvl": 0,
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Throwing": [
    {
      "name": "Velocity",
      "desc": "Throw L times faster",
      "lvl": 222.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Weight",
      "desc": "Throw L times more weight effectively",
      "lvl": 222,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Accuracy",
      "desc": "Increase accurate range by L times",
      "lvl": 222,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Bullseye",
      "desc": "Must be fully upgraded. Throw most handheld objects as weapons.",
      "lvl": 0,
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Riding": [
    {
      "name": "Combat steed",
      "desc": "=+3 dodge, +2 attack, +2 damage whilst mounted during combat. Move and Attack penalty reduced by 2.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Wild tamer",
      "desc": "1FP. Attempt to mount wild animal: success by X = X sec. Can broadly direct of animal, or deal guaranteed damage.",
      "lvl": 4,
      "required": "Animal handling II, Acrobatics",
      "type": "U2"
    },
    {
      "name": "The Meaning of Haste",
      "desc": "Increase your ability to travel long distances mounted by L times",
      "lvl": 24,
      "required": "",
      "type": "U3"
    }
  ],
  "Speed": [
    {
      "name": "Initiative",
      "desc": "Increase your Basic Move, for the sake of order of combat, by 2L",
      "lvl": 333.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Sprinting",
      "desc": "Improve your sprinting: L1 = 1/2 standard FP penalty, L2 = no FP cost",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Traveller",
      "desc": "Increase your ability to travel long distances by 50% * L",
      "lvl": 24,
      "required": "",
      "type": "U3"
    }
  ],
  "Pickpocket": [
    {
      "name": "Deposit",
      "desc": "At -3+L, plant a item on an unwitting victim. May be penalised for large objects. 1FP",
      "lvl": 224.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Slippery",
      "desc": "Attempt to sneak away on fail, at -4+2L",
      "lvl": 24,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Into the crowd",
      "desc": "=+2L when in crowded area, and +2L to get away if caught",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Sleight of hand",
      "desc": "In face-to-face, attempt to pickpocket via any impromptu contact without penalty",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Sneak": [
    {
      "name": "Misdirect",
      "desc": "Whilst undetected, distract victims to other locations at -4+L. 1FP",
      "lvl": 2448.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Slip away",
      "desc": "After being detected, roll to return to being hidden. Costs 2FP (even if fail)",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Hidden master",
      "desc": "No FP drain to remain undetected",
      "lvl": 4,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Darkness is my ally",
      "desc": "2FP. After an intentional action that breaks Sneak, roll to return to hiding.",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Escape": [
    {
      "name": "Premptive resist",
      "desc": "When first being restrained, even unconscious, roll at -2. Can escape from faulty restraints in 10s",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Flexible",
      "desc": "Reduce time per attempt. L1: 50%; L2: 5%",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Smithing": [
    {
      "name": "Metalcraft",
      "desc": "Construct intermediate devices and weaponry. Complex designs are a Mechanics upgrade.",
      "lvl": 5.0,
      "required": "Mechanics II",
      "type": "U1"
    },
    {
      "name": "Marketable (Smither)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    },
    {
      "name": "Mystic smithing",
      "desc": "Work with mystic substances.",
      "lvl": "Q",
      "required": "Basic Mystics II, Smithing IV",
      "type": "U3"
    }
  ],
  "Lumberjack": [],
  "Carpentry": [
    {
      "name": "Woodcraft",
      "desc": "Construct intermediate devices and weaponry. Complex designs are a Mechanics upgrade.",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Marketable (Carpenter)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    },
    {
      "name": "Mystic woodcraft",
      "desc": "Work with mystic materials.",
      "lvl": "Q",
      "required": "Basic Mystics II, Carpentry IV, Naturalist",
      "type": "U3"
    }
  ],
  "Interrogation": [
    {
      "name": "Violent methods (interrogation)",
      "desc": "=+2L bonus if violence inflicted on victim. 10% chance of causing Bloodlust.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist methods (interrogation)",
      "desc": "Can interrogate even without immediate credible threat at -2+L. Cannot be used if violence has been inflicted.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Diplomacy": [
    {
      "name": "Combat negotiations",
      "desc": "-4+2L to attempt to stop a fight long enough to talk",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Fast-Talk": [
    {
      "name": "Backtrack",
      "desc": "On first failure, people will not distrust you",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "On a roll",
      "desc": "Successive lies to the same listener become +L easier each time",
      "lvl": 48,
      "required": "",
      "type": "U2"
    }
  ],
  "Intimidation": [
    {
      "name": "Violent methods (intimidation)",
      "desc": "=+2L bonus if violence inflicted on victim. 10% chance of causing Bloodlust.",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Pacifist methods (intimidation)",
      "desc": "Can intimidate even without immediate credible threat at -2+L. Cannot be used if violence has been inflicted.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Savoir-Faire": [
    {
      "name": "Elegance",
      "desc": "Ability to pass of as a much richer/more powerful person than you really are. Still requires roll.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Friends in high places",
      "desc": "1FP. Roll -4+2L to gain access to powerful authority figures, bypassing standard channels.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Streetwise": [
    {
      "name": "Air of trouble",
      "desc": "Ability to pass of as a much more dangerous person than you really are. Still requires roll.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Friends in low places",
      "desc": "1FP. Roll -4+2L to gain access to powerful criminal/underworld figures, bypassing standard channels.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Public speaking": [],
  "Bartering": [
    {
      "name": "Unusual find",
      "desc": "1FP. Roll -4+2L to find unusual, overlooked items",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Selling",
      "desc": "1FP. +L when selling, to increase the price.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Buying",
      "desc": "1FP. +L when buying, to lower the price.",
      "lvl": 44,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Master Haggler",
      "desc": "Must be fully upgraded. No FP cost for upgrades, reroll once on fail",
      "lvl": 5,
      "required": "All upgrades, Fully upgraded",
      "type": "UMAX"
    }
  ],
  "Business": [],
  "Leadership": [
    {
      "name": "Rally",
      "desc": "=+2 attack to all nearby allies, but cannot attack / defend this turn. Recommended to be in cover.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Authoritive",
      "desc": "",
      "lvl": "44",
      "required": "",
      "type": "U2"
    }
  ],
  "Acting": [
    {
      "name": "Impersonation",
      "desc": "Mimic specific individuals' voices. Acting check required at -6+2L every time someone grows suspiscious.",
      "lvl": 468.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Carousing": [
    {
      "name": "Heavy drinker",
      "desc": "Drink most others under the table without major exertion. Heavy drinking has 5% chance of alcoholism",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Life of the party",
      "desc": "Exhude charisma at social events, improving all attendee's opinions of you",
      "lvl": 3,
      "required": "",
      "type": "U2"
    }
  ],
  "Sex appeal": [
    {
      "name": "Homoerotic",
      "desc": "Even those not normally attracted to your gender can be influenced at -4+2L",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "All things to all",
      "desc": "Even those not normally attracted to your race can be influenced at -4+2L",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "The Oldest Profession",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Animal handling": [
    {
      "name": "Empathy",
      "desc": "Understand behaviour & emotion",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Communication",
      "desc": "L1: basic (very short) commands. L2: more complex interaction",
      "lvl": 48,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Combat",
      "desc": "Instruct animals whilst in combat. L1: companions. L2: all non-hostile animals",
      "lvl": 48,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Wild whisperer",
      "desc": "In many situations, can instruct companion animal to fulfil actions on your behalf",
      "lvl": 4,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Camouflage": [],
  "Naturalist": [
    {
      "name": "Natural defences",
      "desc": "Make use of natural environment as cover during combat. +4 to dodge. 1FP",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Revival",
      "desc": "Roll to attempt to regain 2FP when in wilderness. Lose 1FP if fail. May perform once per hour.",
      "lvl": 4,
      "required": "",
      "type": "U2"
    }
  ],
  "Hunting": [
    {
      "name": "Marketable",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Killshot",
      "desc": "=+3 to attacks & damage against wild animals if undetected",
      "lvl": "4",
      "required": "Ranged combat",
      "type": "U2"
    }
  ],
  "Area knowledge": [
    {
      "name": "Unfamiliar bearings",
      "desc": "Even in unfamiliar territory, quickly gain useful sense of the environment and potential points of interest",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Marketable (Tourer)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U2"
    }
  ],
  "Navigation": [],
  "Survival": [
    {
      "name": "Down with a fight",
      "desc": "",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Fast recovery",
      "desc": "Gain 1HP per 15 minute self-conducted therapy for 1FP cost. Can be done up to L times per day",
      "lvl": 234,
      "required": "",
      "type": "U2"
    }
  ],
  "Crewman": [],
  "Traps": [
    {
      "name": "Defusal",
      "desc": "Attempt to defuse traps at -4+2L",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Creation",
      "desc": "Set your own basic traps at -4+2L",
      "lvl": 44,
      "required": "",
      "type": "U2"
    }
  ],
  "Shadowing": [
    {
      "name": "Marketable",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Observation": [
    {
      "name": "Intuition",
      "desc": "Roll for gut feeling of important things to be looking at",
      "lvl": 3.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Eavesdropping",
      "desc": "Discretely overhear conversations at -2+L. Requires Sneak in public areas. +1 for acute hearing",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Eye for value",
      "desc": "Identify most valuable items on target at -2+L",
      "lvl": 24,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Sharp ears, sharp eyes",
      "desc": "=+1 to Ranged Combat & Empathy",
      "lvl": "4",
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Empathy": [
    {
      "name": "Motivations",
      "desc": "1FP. Read underlying motives at -2+L.",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Lying",
      "desc": "1FP. Attempt to discern if individual is lying at -2+L.",
      "lvl": 44,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Emotions",
      "desc": "1FP. Understand emotional state of individual at -2+L.",
      "lvl": 22,
      "required": "",
      "type": "U3"
    },
    {
      "name": "Soulreader",
      "desc": "No FP cost to use empathy upgrades. Insights can be used to gain trust / intimidate.",
      "lvl": 5,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Scrounging": [
    {
      "name": "Lucky eye",
      "desc": "Option to roll again",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Quick scan",
      "desc": "Reduce time needed to scrounge. L1: 50%, L2: 25%",
      "lvl": 24,
      "required": "",
      "type": "U2"
    }
  ],
  "Searching": [],
  "First aid": [
    {
      "name": "Major wounds",
      "desc": "Can treat larger wounds at -6+2L",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Revival",
      "desc": "Roll to revive unconscious individual. Cannot use on self",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Unconsciousness",
      "desc": "Can attempt to revive an unconscious individual for 1FP at -8+2L",
      "lvl": 44,
      "required": "",
      "type": "U3"
    }
  ],
  "Basic Mystics": [
    {
      "name": "Identification",
      "desc": "May only roll once per artifact. If failed, will require outside knowledge e.g. text research / expert",
      "lvl": 4.0,
      "required": "Research/Quest",
      "type": "U1"
    },
    {
      "name": "Divine principals I",
      "desc": "Basic understanding of the mythic embedded in Lura",
      "lvl": "Q",
      "required": "",
      "type": "U2"
    },
    {
      "name": "Mystic knowledge I",
      "desc": "Basic working knowledge of the principals of mystic arts.",
      "lvl": "Q",
      "required": "",
      "type": "U3"
    },
    {
      "name": "Mystic Practitioner",
      "desc": "Create rudimentary mystic devices. Sufficient skill to attract attention of more knowledgeable practioners\u2026",
      "lvl": "",
      "required": "All upgrades, Mystic Smithing, Mystic Carpentry",
      "type": "UMAX"
    }
  ],
  "Artifacts": [
    {
      "name": "Safe handling",
      "desc": "May only roll once per artifact. If failed, will require outside knowledge e.g. text research / expert",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Combat use",
      "desc": "Safe handling and Identification required. To use capabilities, must roll at -4+2L before standard attack roll.",
      "lvl": 22244,
      "required": "Identification, Safe handling",
      "type": "U2"
    },
    {
      "name": "Specialised use",
      "desc": "Safe handling and Identification required. To use unusual specialised mystic capabilities, must roll at -4+2L",
      "lvl": 48,
      "required": "Identification, Safe handling",
      "type": "U3"
    },
    {
      "name": "Reconstitution",
      "desc": "Ability to extract core technology from Artifact and repurpose into other devices.",
      "lvl": 8,
      "required": "All upgrades, Safe Handling, Combat or Specialised Use, Mystic Smithing or Woodcraft",
      "type": "UMAX"
    }
  ],
  "Writing": [
    {
      "name": "Forgery",
      "desc": "-6+2L to forge documents",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    }
  ],
  "Research": [
    {
      "name": "Professional publication",
      "desc": "Create lucrative research articles that can afford high prices and prestige in academic circles.",
      "lvl": 5.0,
      "required": "Writing",
      "type": "U1"
    }
  ],
  "Law": [
    {
      "name": "Legal obfuscation",
      "desc": "Attempt to avoid punishment by law enforcement through legal knowledge at -4+2L",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Court martial",
      "desc": "Can attempt to intimidate individuals with threat of law intervention (even if no crime commited) at -4+2L",
      "lvl": 48,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Law)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Healing": [
    {
      "name": "Surgery",
      "desc": "Undertake major surgical operations at -6+2L",
      "lvl": 48.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Mystic injuries",
      "desc": "Treat allictions caused by mystic artifacts. Requires Mystics",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Marketable (Healing)",
      "desc": "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering.",
      "lvl": 4,
      "required": "Bartering",
      "type": "U3"
    }
  ],
  "Humanities": [],
  "Maths": [],
  "History": [
    {
      "name": "Continent",
      "desc": "In-depth knowledge of single continent. Possible to have this upgrade without skill: assume level 0 History",
      "lvl": 5.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Major event",
      "desc": "In depth knowledge of specific event, that may be of prolonged duration",
      "lvl": 5,
      "required": "",
      "type": "U2"
    }
  ],
  "Mechanics": [
    {
      "name": "Repairer",
      "desc": "Repair damaged weaponry / devices",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Retooler",
      "desc": "Extract core mechanisms from devices for use elsewhere",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Machiner",
      "desc": "Create rudimentary devices and weaponry. Some will require successful Smithing.",
      "lvl": 8,
      "required": "",
      "type": "U3"
    }
  ],
  "Artistry": [
    {
      "name": "Fiction & poetry",
      "desc": "Low time commitment, but sells cheaply. Takes 1 day, consumes 2FP. Roll at -3+L on completion.",
      "lvl": 244.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Painting & drawing",
      "desc": "Moderate prices, moderate effort. Takes 3 days, 2FP per day until complete. Roll at -3+L upon completion",
      "lvl": 244,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Sculpture",
      "desc": "High prices, but time consuming. Takes 7 days, consumes 2FP per day. Roll at -3+L upon completion",
      "lvl": 244,
      "required": "",
      "type": "U3"
    }
  ],
  "Engineer": [
    {
      "name": "Construction",
      "desc": "Can plan and oversee construction of major structures (e.g. houses, small bridges)",
      "lvl": 4.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Destruction",
      "desc": "Can identify weak points in structures, enabling easier destruction",
      "lvl": 4,
      "required": "",
      "type": "U2"
    },
    {
      "name": "Advanced design",
      "desc": "Create advanced mechanical devices and weaponry.",
      "lvl": 8,
      "required": "Carpentry, Smithing",
      "type": "U3"
    }
  ],
  "Armoury": [
    {
      "name": "Fashion",
      "desc": "1FP. Create aesthetic clothing. Takes one day. Roll on completion at -2+L. Fail = clothing non-marketable",
      "lvl": 33.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Armour",
      "desc": "Create armour. Two days to complete, 2FP per day. Roll on completion at -2+L: greater success = better armour.",
      "lvl": 55,
      "required": "Smithing",
      "type": "U2"
    }
  ],
  "Performance": [
    {
      "name": "Musician",
      "desc": "1FP. Ability to compentently perform chosen instrument(s) at -6+2L. Easy to find gigs, but pay is often poor.",
      "lvl": 444.0,
      "required": "Writing II",
      "type": "U1"
    },
    {
      "name": "Stage",
      "desc": "1FP. Ability to perform in theatrical productions. Roll -6+2L. Harder to find roles, but better and more stable income.",
      "lvl": 444,
      "required": "Acting II",
      "type": "U2"
    },
    {
      "name": "Dancer",
      "desc": "1FP. Competently perform in dance productions. Roll -6+2L. Very hard to find roles, but high income.",
      "lvl": 444,
      "required": "Acrobatics II",
      "type": "U3"
    },
    {
      "name": "Triple threat",
      "desc": "Access extremely lucrative roles in courts & cities. No FP cost to performing.",
      "lvl": 8,
      "required": "All upgrades, ",
      "type": "UMAX"
    }
  ],
  "Disguise": [
    {
      "name": "Improvisation",
      "desc": "Reduce the time it takes to create a disguise. L1 = 50%; L2 = 25%",
      "lvl": 44.0,
      "required": "",
      "type": "U1"
    },
    {
      "name": "Impersonation",
      "desc": "Visually mimic individuals. Disguise check required at -6+2L every time someone grows suspiscious.",
      "lvl": 468,
      "required": "",
      "type": "U2"
    }
  ],
  "Conceal": [],
  "Lockpicking": [
    {
      "name": "Nimble fingers",
      "desc": "Reduces time per attempt. L1: 50%, L2: 10%",
      "lvl": 24.0,
      "required": "",
      "type": "U1"
    }
  ]
}      
      // dragging a node invalidates the Diagram.layout, causing a layout during the drag
      myDiagram.toolManager.draggingTool.doMouseMove = function() {
        go.DraggingTool.prototype.doMouseMove.call(this);
        if (this.isActive) { this.diagram.layout.invalidateLayout(); }
      }

      function skill_click(e, obj) {
        var node = obj.part;
        document.getElementById("info-skill-title").innerHTML = node.data.text;
        document.getElementById("info-skill-description").innerHTML = node.data.desc;
        document.getElementById("info-skill-cost").innerHTML = node.data.lvl;
        document.getElementById("info-skill-require").innerHTML = "";

        document.getElementById("info-U1-title").innerHTML = "";
        document.getElementById("info-U2-title").innerHTML = "";
        document.getElementById("info-U3-title").innerHTML = "";
        document.getElementById("info-UMAX-title").innerHTML = "";
        document.getElementById("info-U1-description").innerHTML = "";
        document.getElementById("info-U2-description").innerHTML = "";
        document.getElementById("info-U3-description").innerHTML = "";
        document.getElementById("info-UMAX-description").innerHTML = "";
        document.getElementById("info-U1-cost").innerHTML = "";
        document.getElementById("info-U2-cost").innerHTML = "";
        document.getElementById("info-U3-cost").innerHTML = "";
        document.getElementById("info-UMAX-cost").innerHTML = "";
        document.getElementById("info-U1-require").innerHTML = "";
        document.getElementById("info-U2-require").innerHTML = "";
        document.getElementById("info-U3-require").innerHTML = "";
        document.getElementById("info-UMAX-require").innerHTML = "";

        ugds = upgrades[node.data.text];
        for (var u of ugds) {
          console.log(u)
          var ux = u["type"];
          console.log(ux)
          var prefix = "info-" + ux + "-";
          document.getElementById(prefix + "title").innerHTML = ux + ": " + u.name;
          document.getElementById(prefix + "description").innerHTML = u.desc;
          document.getElementById(prefix + "cost").innerHTML = u.lvl

          var required = u["required"]
          document.getElementById(prefix + "require").innerHTML = required
        }
      }

      // define each Node's appearance
      // Template for a skill. 
      var baseTemplate =
        $(go.Node, "Vertical",  // the whole node panel
          // {isSubGraphExpanded: false, layout: $(go.ForceDirectedLayout)}, //collapse upgrades initially
          $(go.Panel, "Auto",  // Level cost information
            $(go.Shape, "Rectangle",
              { opacity: 0.5 },
              new go.Binding("fill", "color"),
              ),

            $(go.TextBlock,
              { font: "20pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
              new go.Binding("text", "lvl"),
              ),
            ),

          $("Button",
            {click: skill_click},
            $(go.Panel, "Auto",     //Main information
              $(go.Shape, "Rectangle",
                { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
                new go.Binding("fill", "color")
                ),
              $(go.TextBlock,
                { font: "25pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
                new go.Binding("text", "text"),
                ),
              ),    
              // $("SubGraphExpanderButton"),
              ),

          // $(go.Placeholder,     // represents area for all member parts
          //   { padding: new go.Margin(10, 10), background: "white" }
          // ),

          {
            toolTip:  // define a tooltip for each node that displays the color as text
            $("ToolTip",
              $(go.TextBlock, { 
                margin: 4, width: 200},
                new go.Binding("text", "desc"))
              )  // end of Adornment
          }
          );

        var h1Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 40pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var h2Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5), opacity: 0.5 },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 30pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(400, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var h3Template =
        $(go.Node, "Auto",  // the whole node panel
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "White", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            new go.Binding("fill", "color")
            ),
          $(go.TextBlock,
            { font: "bold 20pt helvetica, bold arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var upgradeTemplate =
        $(go.Node, "Auto", {visible: false} ,// the whole node panel, hide by inserting: ' {visible: false},'
          // define the node's outer shape, which will surround the TextBlock
          $(go.Shape, "Rectangle",
            { fill: "Grey", stroke: "black", spot1: new go.Spot(0, 0, 5, 5), spot2: new go.Spot(1, 1, -5, -5) },
            ),
          $(go.TextBlock,
            { font: "15pt helvetica, arial, sans-serif", textAlign: "center", maxSize: new go.Size(200, NaN) },
            new go.Binding("text", "text"),
            ),
          {
              toolTip:  // define a tooltip for each node that displays the color as text
              $("ToolTip",
                $(go.TextBlock, { 
                  margin: 4,
                  width: 200 },
                  new go.Binding("text", "desc"))
                )  // end of Adornment
            }
            );

        var templateMap = new go.Map();
        templateMap.add("", baseTemplate);
        templateMap.add("h1", h1Template);
        templateMap.add("h2", h2Template);
        templateMap.add("h3", h3Template);
        templateMap.add("upgrade", upgradeTemplate);
        myDiagram.nodeTemplateMap = templateMap;

      // myDiagram.groupTemplate = baseTemplate

      // replace the default Link template in the linkTemplateMap
      myDiagram.linkTemplate =
        $(go.Link,  // the whole link panel
          $(go.Shape,  // the link shape
            { stroke: "black" }),
          $(go.Shape,  // the arrowhead
            { toArrow: "standard", stroke: null }),
          $(go.Panel, "Auto",
            $(go.Shape,  // the label background, which becomes transparent around the edges
            {
                fill: null, //$(go.Brush, "Radial", { 0: "rgb(240, 240, 240)", 0.3: "rgb(240, 240, 240)", 1: "rgba(240, 240, 240, 0)" })
                stroke: null
              }),
            $(go.TextBlock,  // the label text
            {
              textAlign: "center",
              font: "10pt helvetica, arial, sans-serif",
              stroke: "#555555",
              margin: 4
            },
            new go.Binding("text", "text"))
            )
          );

      // create the model for the concept map

      var nodeDataArray = [
        { key: 0, text: "SKILL TREE", desc: "Start here.", color: "white", category: "h1" },
        { key: 1, text: "STR", desc: "Strength. Feats of raw power. 10pts to increase", category: "h1", color: "lightcoral" },
        { key: 2, text: "HLT", desc: "Health. Hit points, energy (FP), survival. 10pts to increase.", category: "h1", color: "palegreen" },
        { key: 3, text: "DEX", desc: "Dexterity. Movement, athleticism, physical feats beyond sheer strength. 20pts to increase.", category: "h1", color: "skyblue" },
        { key: 4, text: "INT", desc: "Intelligence. Feats that involve mental agility, experience, capability. 15pts to increase.", category: "h1", color: "thistle" },
        { key: 5, text: "SPC", desc: "Special. Unique skills not tied to a base stat.", category: "h1", color: "bisque" },
        { key: 6, text: "CHR", desc: "Charisma. Communication and sociaciability. 10pts to increase.", category: "h1", color: "khaki" },
        { key: 7, text: "Fighting", desc: "Fighting", category: "h2", color: "lightcoral" },
        { key: 8, text: "Fitness", desc: "Fitness", category: "h2", color: "palegreen" },
        { key: 9, text: "Combat", desc: "Combat", category: "h2", color: "skyblue" },
        { key: 10, text: "Movement", desc: "Movement", category: "h2", color: "skyblue" },
        { key: 11, text: "Stealth", desc: "Stealth", category: "h2", color: "skyblue" },
        { key: 12, text: "Crafting", desc: "Crafting", category: "h2", color: "skyblue" },
        { key: 13, text: "Communication", desc: "Communication", category: "h2", color: "khaki" },
        { key: 14, text: "Social", desc: "Social", category: "h2", color: "khaki" },
        { key: 15, text: "Nature", desc: "Nature", category: "h2", color: "thistle" },
        { key: 16, text: "Travel", desc: "Travel", category: "h2", color: "thistle" },
        { key: 17, text: "Perception", desc: "Perception", category: "h2", color: "thistle" },
        { key: 18, text: "Knowledge", desc: "Knowledge", category: "h2", color: "thistle" },
        { key: 19, text: "Subjects", desc: "Subjects", category: "h2", color: "thistle" },
        { key: 20, text: "Professions", desc: "Professions", category: "h2", color: "thistle" },
        { key: 21, text: "Deception", desc: "Deception", category: "h2", color: "thistle" },
        { key: 22, text: "Brawling", desc: "Unsophisticated melee combat. Can only be used when unarmed / with fist-wielded weapons." , color: "lightcoral", lvl: "12224" }, 
        { key: 23, text: "Pin", desc: "Attempt to restrain opponent (must be on floor). Cannot damage whilst pinning without upgrade." , color: "lightcoral", lvl: "2224" }, 
        { key: 24, text: "Tackle", desc: "Take opponent to floor by brute force. DEX skills exist that can also achieve this. Roll vs victim STR." , color: "lightcoral", lvl: "2224" }, 
        { key: 25, text: "Acquatics", desc: "Ability to swim. Unupgraded can swim for 10 minutes at 1m/s, hold breath for 30s" , color: "palegreen", lvl: "2" }, 
        { key: 26, text: "Energy", desc: "Measure of how much can be done in a day" , color: "palegreen", lvl: "0" }, 
        { key: 27, text: "Willpower", desc: "Roll during concentration, interrogation, etc. Note you get Willpower = HT for free (i.e. lvl 3)" , color: "palegreen", lvl: "224" }, 
        { key: 28, text: "Martial arts", desc: "Advanced unarmed combat / use of specialised equipment. Can use to take opponent to floor." , color: "skyblue", lvl: "24468" }, 
        { key: 29, text: "Melee combat", desc: "Characters start with one of melee or ranged combat." , color: "skyblue", lvl: "10" }, 
        { key: 30, text: "Fencing", desc: "e.g. sabres" , color: "skyblue", lvl: "24468" }, 
        { key: 31, text: "Flail", desc: "e.g. morningstars" , color: "skyblue", lvl: "24468" }, 
        { key: 32, text: "Impact", desc: "e.g. clubs" , color: "skyblue", lvl: "24468" }, 
        { key: 33, text: "Pole", desc: "e.g. polearms" , color: "skyblue", lvl: "24468" }, 
        { key: 34, text: "Sword", desc: "e.g. rapier, broadsword" , color: "skyblue", lvl: "24468" }, 
        { key: 35, text: "Dagger", desc: "Includes all small blades" , color: "skyblue", lvl: "1224" }, 
        { key: 36, text: "Ranged combat", desc: "Characters start with one of melee or ranged combat." , color: "skyblue", lvl: "10" }, 
        { key: 37, text: "Blowpipe", desc: "Darts and stealth air-propelled weaponry" , color: "skyblue", lvl: "2" }, 
        { key: 38, text: "Bow", desc: "All manually drawn ranged weapons" , color: "skyblue", lvl: "24468" }, 
        { key: 39, text: "Crossbow", desc: "All mechanised range weapons" , color: "skyblue", lvl: "24468" }, 
        { key: 40, text: "Thrown weapon", desc: "Can have with melee combat without the base ranged stat" , color: "skyblue", lvl: "2" }, 
        { key: 41, text: "Artillery", desc: "Large-scale ranged devices. E.g. catapults, ballistas, trebuchets" , color: "skyblue", lvl: "4" }, 
        { key: 42, text: "Shield", desc: "All items held for blocking damage" , color: "skyblue", lvl: "24468" }, 
        { key: 43, text: "Climbing", desc: "1FP every 15s without upgrades. A footholded wall is scaled at 1m / 10s" , color: "skyblue", lvl: "1224" }, 
        { key: 44, text: "Acrobatics", desc: "Coordinated physical feats" , color: "skyblue", lvl: "1224" }, 
        { key: 45, text: "Jumping", desc: "Without upgrades, jump your Move/2 far and Move/4 high" , color: "skyblue", lvl: "0" }, 
        { key: 46, text: "Throwing", desc: "Without upgrades, throw 15m/s, max effective 0.5kl, accurate to a breadbox within 5m" , color: "skyblue", lvl: "0" }, 
        { key: 47, text: "Riding", desc: "1FP per minute of riding. Roll to mount" , color: "skyblue", lvl: "1224" }, 
        { key: 48, text: "Speed", desc: "Note, without upgrade, sprinting costs 1FP per 100m" , color: "skyblue", lvl: "0" }, 
        { key: 49, text: "Pickpocket", desc: "Much more difficult if observed, and if in sparsely populated area" , color: "skyblue", lvl: "H448" }, 
        { key: 50, text: "Sneak", desc: "1/2FP. Roll every 5s if within 5 metres, 15s in close proximity, 60s if further. Bonus if out of sight." , color: "skyblue", lvl: "12468" }, 
        { key: 51, text: "Escape", desc: "1FP. Restraints, rope-ties. Takes about 10 minutes per attempt." , color: "skyblue", lvl: "2446" }, 
        { key: 52, text: "Smithing", desc: "Metalworking. Fashion crude items without upgrades." , color: "skyblue", lvl: "12248" }, 
        { key: 53, text: "Lumberjack", desc: "Felling wood" , color: "skyblue", lvl: "224" }, 
        { key: 54, text: "Carpentry", desc: "Crafting wood" , color: "skyblue", lvl: "244" }, 
        { key: 55, text: "Interrogation", desc: "1FP. Roll vs. victim's willpower. Failure may cause victim to lie / become useless. Requires credible threat." , color: "khaki", lvl: "H4468" }, 
        { key: 56, text: "Diplomacy", desc: "1/2FP. Persuasion and de-escalation of tensions." , color: "khaki", lvl: "H12468" }, 
        { key: 57, text: "Fast-Talk", desc: "1/2FP. Quick lies, verbal deception. Failures may significantly reduce person's opinion of you" , color: "khaki", lvl: "H12468" }, 
        { key: 58, text: "Intimidation", desc: "1FP. Roll vs. victim's willpower. Failure may cause victim to lie / become useless. Requires credible threat." , color: "khaki", lvl: "H24468" }, 
        { key: 59, text: "Savoir-Faire", desc: "Knowledge of etiquette, cultural expectations, especially amongst upper-class" , color: "khaki", lvl: "12446" }, 
        { key: 60, text: "Streetwise", desc: "Knowledge of mannerisms of criminals / lowlife individuals" , color: "khaki", lvl: "12446" }, 
        { key: 61, text: "Public speaking", desc: "1/2FP. Oratory and addressing en masse." , color: "khaki", lvl: "H12468" }, 
        { key: 62, text: "Bartering", desc: "Trading goods and services. Many marketable skills require good Bartering to command a decent price." , color: "khaki", lvl: "24468" }, 
        { key: 63, text: "Business", desc: "Run a store, manage operations" , color: "khaki", lvl: "H2448" }, 
        { key: 64, text: "Leadership", desc: "Giving orders, strategising, managing individuals" , color: "khaki", lvl: "12446" }, 
        { key: 65, text: "Acting", desc: "1FP per 15 minutes. Longer-term ruses and feigning behaviour." , color: "khaki", lvl: "H12468" }, 
        { key: 66, text: "Carousing", desc: "Endurance at social gatherings" , color: "khaki", lvl: "124" }, 
        { key: 67, text: "Sex appeal", desc: "Without upgrades, only works on those who are attracted to your gender/race" , color: "khaki", lvl: "124" }, 
        { key: 68, text: "Animal handling", desc: "Understsanding of animal behaviour, basic communications if trained." , color: "thistle", lvl: "H12468" }, 
        { key: 69, text: "Camouflage", desc: "Both for beings and inanimate objects. 1FP per attempt." , color: "thistle", lvl: "124" }, 
        { key: 70, text: "Naturalist", desc: "Understanding and ability to harness natural resources." , color: "thistle", lvl: "124" }, 
        { key: 71, text: "Hunting", desc: "Tracking and killing animals" , color: "thistle", lvl: "12446" }, 
        { key: 72, text: "Area knowledge", desc: "Understanding beyond what would be known to wandering traveller, usually applies to specific area" , color: "thistle", lvl: "112" }, 
        { key: 73, text: "Navigation", desc: "Use of maps, or basic intuition on landscape if available." , color: "thistle", lvl: "124" }, 
        { key: 74, text: "Survival", desc: "Ability to withstand challenging environments" , color: "thistle", lvl: "12446" }, 
        { key: 75, text: "Crewman", desc: "Helping on ship, army, large organisation" , color: "thistle", lvl: "112" }, 
        { key: 76, text: "Traps", desc: "Indentification of traps." , color: "thistle", lvl: "12446" }, 
        { key: 77, text: "Shadowing", desc: "1FP and one roll every 60s, half if in close proximity, half if in uncrowded area, double if unsuspecting" , color: "thistle", lvl: "12468" }, 
        { key: 78, text: "Observation", desc: "1/2FP. Discrete observation of situations, people, etc. Assume level 0 if does not have skill / upgarde" , color: "thistle", lvl: "12446" }, 
        { key: 79, text: "Empathy", desc: "Read intelligent emotion. Assume level 0 if does not have skill / upgrade" , color: "thistle", lvl: "12468" }, 
        { key: 80, text: "Scrounging", desc: "1FP. Find items in local area. Usually takes 30 minutes" , color: "thistle", lvl: "12446" }, 
        { key: 81, text: "Searching", desc: "1FP. Look for concealed items on person / in environment" , color: "thistle", lvl: "1124" }, 
        { key: 82, text: "First aid", desc: "1FP. Treatment of other's small wounds. Easier if there is access to equipment" , color: "thistle", lvl: "12446" }, 
        { key: 83, text: "Basic Mystics", desc: "Rudimentary knowledge of mysic arts. Opens door to several more potential mystic paths." , color: "thistle", lvl: "248" }, 
        { key: 84, text: "Artifacts", desc: "One per owned artifact. This skill cannot be gained on an unidentified artifact." , color: "thistle", lvl: "248" }, 
        { key: 85, text: "Writing", desc: "Ability to write fluently beyond basic communication" , color: "thistle", lvl: "12446" }, 
        { key: 86, text: "Research", desc: "Read formal documents and records, find information amongst a large collection." , color: "thistle", lvl: "12446" }, 
        { key: 87, text: "Law", desc: "Knowledge of basic protections afforded in different societies" , color: "thistle", lvl: "248" }, 
        { key: 88, text: "Healing", desc: "Longer term diagnosis and treatment of injuries and maladies. Doctors will have Healing skill." , color: "thistle", lvl: "248" }, 
        { key: 89, text: "Humanities", desc: "Studies of races, history, societies, organisation" , color: "thistle", lvl: "12468" }, 
        { key: 90, text: "Maths", desc: "Numerical intepretation. Required base for other subjects." , color: "thistle", lvl: "12468" }, 
        { key: 91, text: "History", desc: "Specific knowledge of a region / race / major event. Each is one skill. Can be leveled via research." , color: "thistle", lvl: "Q" }, 
        { key: 92, text: "Mechanics", desc: "Understanding of machinery, weapons, and devices. Interaction requires upgrades." , color: "thistle", lvl: "12468" }, 
        { key: 93, text: "Artistry", desc: "Create works that can be sold. Higher success = better quality. Assume Lvl 0 if does not have upgrade." , color: "thistle", lvl: "12446" }, 
        { key: 94, text: "Engineer", desc: "Can sell services for money. Target must be interested in purchase. Use lower of this skill and Bartering." , color: "thistle", lvl: "448" }, 
        { key: 95, text: "Armoury", desc: "Creation of clothing & armour. Good items may be sold" , color: "thistle", lvl: "12468" }, 
        { key: 96, text: "Performance", desc: "Entertainment as a profession." , color: "thistle", lvl: "12468" }, 
        { key: 97, text: "Disguise", desc: "1FP per attempt. Normally requires about 30 minutes to create a workable disguise." , color: "thistle", lvl: "12468" }, 
        { key: 98, text: "Conceal", desc: "1FP per attempt. Hide items, either in specific place or on specific individual." , color: "thistle", lvl: "12446" }, 
        { key: 99, text: "Lockpicking", desc: "1FP per attempt. Takes around 5 minutes." , color: "thistle", lvl: "H12468" }, 

      ];

      var linkDataArray = [
        { from: 0, to: 1},
        { from: 0, to: 2},
        { from: 0, to: 3},
        { from: 0, to: 4},
        { from: 0, to: 5},
        { from: 0, to: 6},
        { from: 1, to: 7}, 
        { from: 2, to: 8}, 
        { from: 3, to: 9}, 
        { from: 3, to: 10}, 
        { from: 3, to: 11}, 
        { from: 3, to: 12}, 
        { from: 6, to: 13}, 
        { from: 6, to: 14}, 
        { from: 4, to: 15}, 
        { from: 4, to: 16}, 
        { from: 4, to: 17}, 
        { from: 4, to: 18}, 
        { from: 4, to: 19}, 
        { from: 4, to: 20}, 
        { from: 4, to: 21}, 
        { from: 7, to: 22}, 
        { from: 7, to: 23}, 
        { from: 7, to: 24}, 
        { from: 8, to: 25}, 
        { from: 8, to: 26}, 
        { from: 8, to: 27}, 
        { from: 29, to: 28}, 
        { from: 22, to: 28}, 
        { from: 9, to: 29}, 
        { from: 29, to: 30}, 
        { from: 29, to: 31}, 
        { from: 29, to: 32}, 
        { from: 29, to: 33}, 
        { from: 29, to: 34}, 
        { from: 29, to: 35}, 
        { from: 9, to: 36}, 
        { from: 36, to: 37}, 
        { from: 36, to: 38}, 
        { from: 36, to: 39}, 
        { from: 36, to: 40}, 
        { from: 9, to: 41}, 
        { from: 9, to: 42}, 
        { from: 10, to: 43}, 
        { from: 10, to: 44}, 
        { from: 10, to: 45}, 
        { from: 10, to: 46}, 
        { from: 10, to: 47}, 
        { from: 10, to: 48}, 
        { from: 11, to: 49}, 
        { from: 11, to: 50}, 
        { from: 11, to: 51}, 
        { from: 12, to: 52}, 
        { from: 12, to: 53}, 
        { from: 53, to: 54}, 
        { from: 13, to: 55}, 
        { from: 13, to: 56}, 
        { from: 13, to: 57}, 
        { from: 13, to: 58}, 
        { from: 13, to: 59}, 
        { from: 13, to: 60}, 
        { from: 13, to: 61}, 
        { from: 13, to: 62}, 
        { from: 62, to: 63}, 
        { from: 13, to: 64}, 
        { from: 13, to: 65}, 
        { from: 14, to: 66}, 
        { from: 14, to: 67}, 
        { from: 15, to: 68}, 
        { from: 15, to: 69}, 
        { from: 15, to: 70}, 
        { from: 15, to: 71}, 
        { from: 16, to: 72}, 
        { from: 16, to: 73}, 
        { from: 16, to: 74}, 
        { from: 16, to: 75}, 
        { from: 16, to: 76}, 
        { from: 17, to: 77}, 
        { from: 17, to: 78}, 
        { from: 78, to: 79}, 
        { from: 17, to: 80}, 
        { from: 17, to: 81}, 
        { from: 18, to: 82}, 
        { from: 18, to: 83}, 
        { from: 83, to: 84}, 
        { from: 18, to: 85}, 
        { from: 85, to: 86}, 
        { from: 85, to: 87}, 
        { from: 82, to: 88}, 
        { from: 85, to: 89}, 
        { from: 19, to: 90}, 
        { from: 19, to: 91}, 
        { from: 90, to: 92}, 
        { from: 20, to: 93}, 
        { from: 92, to: 94}, 
        { from: 20, to: 95}, 
        { from: 20, to: 96}, 
        { from: 21, to: 97}, 
        { from: 21, to: 98}, 
        { from: 21, to: 99}, 
      ];    
      
      myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);

      global_diagram = myDiagram;
      import_layout();
    }

    function reload() {
      //myDiagram.layout.network = null;
      var text = myDiagram.model.toJson();
      myDiagram.model = go.Model.fromJson(text);
      //myDiagram.layout =
      //  go.GraphObject.make(ContinuousForceDirectedLayout,  // automatically spread nodes apart while dragging
      //    { defaultSpringLength: 30, defaultElectricalCharge: 100 });
    }

    function export_layout() {
      locations = [];
      global_diagram.nodes.each(function(n) {locations.push(n.location)});
      var text = JSON.stringify(locations);
      console.log(text);
    }

    function import_layout() {
      text = '[{"x":1224.1310059005611,"y":303.8970584724517,"s":false},{"x":1165.1072273897557,"y":526.7551922275496,"s":true},{"x":1458.5401812252262,"y":199.12236698970122,"s":true},{"x":522.7967050922539,"y":357.06523301040943,"s":false},{"x":1855.3628294787954,"y":842.1087787452801,"s":false},{"x":1451.9787925651679,"y":399.4282506009908,"s":true},{"x":1311.3670718433723,"y":-42.205823502186774,"s":false},{"x":955.9945211781641,"y":681.2013091266555,"s":true},{"x":1648.1003459514104,"y":111.08893891935918,"s":false},{"x":195.39852294119208,"y":478.5925936784557,"s":true},{"x":702.7751149691011,"y":176.41475656042718,"s":true},{"x":186.08856482257045,"y":592.7140791487236,"s":true},{"x":278.89355375827955,"y":127.26841313041656,"s":true},{"x":1465.0708596820907,"y":-419.95135539987024,"s":false},{"x":1110.5752397416475,"y":-166.00536704348661,"s":true},{"x":1553.6541921173045,"y":1242.5460621372488,"s":true},{"x":1488.568538253398,"y":823.3738984716671,"s":true},{"x":2122.8692290965346,"y":1180.5814444541681,"s":false},{"x":2188.122835965276,"y":550.3364308619828,"s":true},{"x":2272.985389488828,"y":861.2187881299135,"s":true},{"x":1760.47412393834,"y":671.4570386814165,"s":true},{"x":1810.7455555188253,"y":1006.9963774967011,"s":false},{"x":900.6666697698663,"y":837.8939106061987,"s":true},{"x":824.6074399494252,"y":592.3251917988609,"s":true},{"x":969.3369049272796,"y":529.930911240029,"s":true},{"x":1861.308658791683,"y":-3.0854032468937627,"s":true},{"x":1794.1135666336863,"y":231.1392892028382,"s":true},{"x":1575.8906283745384,"y":-38.24049222294593,"s":true},{"x":703.3427292044689,"y":999.8024003558288,"s":true},{"x":444.3986454639654,"y":828.1561872825664,"s":true},{"x":633.7716650164496,"y":849.8684292028041,"s":true},{"x":294.1171166996724,"y":882.149904903086,"s":true},{"x":628.4411996813226,"y":697.1800526424341,"s":true},{"x":515.918193473968,"y":1027.6046080258147,"s":true},{"x":328.2194436492418,"y":1041.3245258602476,"s":true},{"x":435.68002676597786,"y":672.3712361050458,"s":true},{"x":-182.53624947172813,"y":362.57757580529307,"s":true},{"x":-419.1217925937775,"y":307.69146283792367,"s":true},{"x":-183.5088546596566,"y":552.7872698021054,"s":true},{"x":-432.30817302430165,"y":472.469107826748,"s":true},{"x":-185.07252769946942,"y":165.95885089262995,"s":true},{"x":69.10550299083943,"y":328.2175456176401,"s":true},{"x":299.7787902990841,"y":331.26541099172067,"s":true},{"x":737.2313634143107,"y":299.9618245943597,"s":true},{"x":995.7873404091229,"y":105.54238382996375,"s":true},{"x":558.9945063440604,"y":6.525058579645201,"s":true},{"x":768.6363317203563,"y":19.63026022248001,"s":true},{"x":527.971522249309,"y":180.58093860673597,"s":true},{"x":966.8601938392414,"y":277.47674497431416,"s":true},{"x":180.5216533782455,"y":708.662175572867,"s":true},{"x":-1.0447854158617715,"y":566.2703977513055,"s":true},{"x":-17.050808048677432,"y":732.3984267427428,"s":true},{"x":60.35381048306593,"y":81.54047902511782,"s":true},{"x":256.5215133389031,"y":-77.84988523929867,"s":true},{"x":213.01024833862778,"y":-232.4394094974827,"s":true},{"x":1193.0085653815609,"y":-604.917177834476,"s":true},{"x":1666.063221434951,"y":-296.19496994100786,"s":true},{"x":1899.9630091338906,"y":-443.2488118058407,"s":true},{"x":1473.9901741458839,"y":-554.7487902037946,"s":true},{"x":1478.6144927424207,"y":-699.1395155429755,"s":true},{"x":1762.1855260519746,"y":-694.9834099543948,"s":true},{"x":1232.6367926935498,"y":-454.009700599234,"s":true},{"x":1913.8091013407122,"y":-285.02507273268515,"s":true},{"x":2138.7489158857416,"y":-261.5705045037158,"s":true},{"x":1419.1473719892651,"y":-273.974881165453,"s":true},{"x":1742.870446227606,"y":-558.6241510671432,"s":true},{"x":872.7380653888415,"y":-164.81020729910713,"s":true},{"x":953.8507923337526,"y":-328.41015333934297,"s":true},{"x":1309.9354579919325,"y":1297.4733370675885,"s":true},{"x":1524.515948353681,"y":1437.3321003921824,"s":true},{"x":1320.266770197466,"y":1140.5211741619312,"s":true},{"x":1761.614920054253,"y":1295.2911353163504,"s":true},{"x":1204.819889881142,"y":879.1858592469815,"s":true},{"x":1240.9094521233465,"y":717.6862708213415,"s":true},{"x":1488.5965409088185,"y":663.1778513574069,"s":true},{"x":1449.7394360856938,"y":941.8018729700813,"s":true},{"x":1678.1672440477073,"y":817.0526383086872,"s":true},{"x":1980.6032814895689,"y":1314.2219364276618,"s":true},{"x":2470.5133763656036,"y":1237.6603793107581,"s":true},{"x":2659.7112138191583,"y":1389.7492833109668,"s":true},{"x":2396.5267148759704,"y":1065.9624188427563,"s":true},{"x":2229.6583430316955,"y":1323.944129126353,"s":true},{"x":2357.8042228837207,"y":362.3033099705169,"s":true},{"x":2149.6816002678725,"y":333.5472832698074,"s":true},{"x":2128.7762365324484,"y":180.50754595432736,"s":true},{"x":2566.794851518514,"y":507.32162962708304,"s":true},{"x":2771.7082683611525,"y":477.5989959904507,"s":true},{"x":2621.332588413698,"y":349.7671096623963,"s":true},{"x":2408.847834521718,"y":200.20527467323893,"s":true},{"x":2722.2337547658717,"y":652.6039602416024,"s":true},{"x":2556.0737801874902,"y":884.4327101697759,"s":true},{"x":2389.1767465628063,"y":713.133427244213,"s":true},{"x":2748.7148602541984,"y":923.2051848465738,"s":true},{"x":1974.7720610760912,"y":525.0219527597376,"s":true},{"x":2994.0155651213945,"y":988.8398811583007,"s":true},{"x":2062.7652104948393,"y":718.3487679047078,"s":true},{"x":1689.7261260041653,"y":511.88279772308476,"s":true},{"x":1863.6329909464616,"y":1122.2968825599623,"s":true},{"x":2080.044718060848,"y":982.3352138993798,"s":true},{"x":1575.0647376426027,"y":1097.423740656424,"s":true}]'

      var locations = JSON.parse(text);
      var i = 0;
      global_diagram.nodes.each(function(n) {
        n.location = new go.Point(locations[i].x, locations[i].y);
        i += 1;
      });
    }
  </script>
</head>
<body onload="init()">
    <div id="myDiagramDiv" style="background-color: whitesmoke; width: 79%; height: 95vh; float: left; position: relative; -webkit-tap-highlight-color: rgba(255, 255, 255, 0); cursor: auto;"><canvas tabindex="0" width="1504" height="890" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; width: 1504px; height: 890px; cursor: auto;">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 1504px; height: 890px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
<div id="info-panel" ,="" style="width: 20%; height: 95vh; background: white; float: left">
  
  <div class="info-title">
    <p id="info-skill-title">Title</p>
  </div>
  <div class="info-skill-description">
    <p class="info-cost" ,="" id="info-skill-cost">Level cost</p>
    <p class="info-require" ,="" id="info-skill-require">Requirements</p>
    <p id="info-skill-description">Description</p>
  </div>
  
  <div class="info-title">
    <p id="info-U1-title" ,="" class="info-u-title">Upgrade A</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U1-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U1-require">Requirements</p>
    <p id="info-U1-description">Upgrade A Description</p>
  </div>
  
  <div class="info-title">
    <p id="info-U2-title" ,="" class="info-u-title">Upgrade B</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U2-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U2-require">Requirements</p>
    <p id="info-U2-description">Upgrade B Description</p>
  </div>  

  <div class="info-title">
    <p id="info-U3-title" ,="" class="info-u-title">Upgrade C</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-U3-cost">Level cost</p>
    <p class="info-require" ,="" id="info-U3-require">Requirements</p>
    <p id="info-U3-description">Upgrade C Description</p>
  </div>

  <div class="info-title">
    <p id="info-UMAX-title" ,="" class="info-u-title">Upgrade Max</p>
  </div>
  <div class="info-u-description">
    <p class="info-cost" ,="" id="info-UMAX-cost">Level cost</p>
    <p class="info-require" ,="" id="info-UMAX-require">Requirements</p>
    <p id="info-UMAX-description">Upgrade Max Description</p>
  </div>
</div>


</body></html>